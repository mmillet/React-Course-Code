{"version":3,"sources":["lesson-1/1.0-Component.jsx","lesson-1/1.1-Jsx.jsx","lesson-1/1.2-Express.jsx","lesson-1/1.3-Practice.jsx","lesson-2/2.0-Props.jsx","lesson-2/2.1-DefaultProps.jsx","lesson-2/2.2-State.jsx","lesson-2/2.3-FibonacciPractice.jsx","lesson-2/2.4-SetState.jsx","lesson-2/2.5-StatePractice.jsx","lesson-2/2.6-Context.jsx","lesson-2/2.7-Ref.jsx","lesson-2/2.8-Event.jsx","lesson-2/2.9-Practice.jsx","lesson-3/3.0-Constructor.jsx","lesson-3/3.1-BindEvent.jsx","lesson-3/3.2-GetDerivedStateFromProps.jsx","lesson-3/3.3-ComponentDidMount.jsx","lesson-3/3.4-ShouldComponentUpdate.jsx","lesson-3/3.5-ComponentDidUpdate.jsx","lesson-3/3.6-Form.jsx","lesson-3/3.7-FormRef.jsx","lesson-3/3.8-Hoc.jsx","lesson-3/3.9-HocPractice.jsx","lesson-4/Caculator.jsx","lesson-4/index.jsx","lesson-5/5.0-Function.jsx","lesson-5/5.1-UseStateBasic.jsx","lesson-5/5.2-UseEffectBasic.jsx","lesson-5/5.3-UseEffectTimer.jsx","lesson-5/5.4-UseLayoutEffect.jsx","lesson-5/5.5-UseContextBasic.jsx","lesson-5/5.6-HookRule.jsx","lesson-5/5.7-Practice.jsx","lesson-6/6.0-CustomHook.jsx","lesson-6/6.1-UseReducerBasic.jsx","lesson-6/6.2-UseCallback.jsx","lesson-6/6.3-UseMemo.jsx","lesson-6/6.4-UseImperativeHandle.jsx","lesson-6/6.5-UseEffectAsync.jsx","lesson-6/6.6-Practice.jsx","lesson-7/7.0-UseForm.jsx","lesson-7/7.1-UseEffect.jsx","lesson-7/7.2-UseFetch.jsx","lesson-7/7.3-UseAsync.jsx","lesson-7/7.4-UseReducer.jsx","lesson-7/7.5-UseReducerAndContext.jsx","lesson-7/7.6-UseShareState.jsx","lesson-7/7.7-Practice.jsx","lesson-8/client/Login/person.svg","lesson-8/client/store.js","lesson-8/client/Login/index.jsx","lesson-8/client/BottomCart/order.svg","lesson-8/client/BottomCart/index.jsx","lesson-8/client/Foods/CategoryList/index.jsx","lesson-8/client/Foods/FoodList/index.jsx","lesson-8/client/Foods/index.jsx","lesson-8/client/index.jsx","App.jsx"],"names":["Demo","handleClick","alert","id","onClick","this","React","Component","map","item","index","isEven","className","Content","props","title","defaultProps","state","times","updated","setInterval","setState","a","b","list","join","number","console","log","typeEnum","type","handleChange","isDeep","createContext","Provider","Consumer","value","ref","ele","myRef","focus","e","handleFocus","target","onFocus","onChange","handleAdd","push","open","handleMinus","pop","handleToggle","counter","bind","getDerivedStateFromProps","nextProps","nextState","username","axios","get","then","res","data","text","count","onChangeUser","NameForm","event","handleSubmit","preventDefault","onSubmit","inputRef","current","createRef","WrappedComponent","withHeader","windowWidth","widthHoc","handleResize","window","innerWidth","addEventListener","computeSign","Caculator","input","lastInput","sign","isLastSignInput","getResult","num1","num2","result","String","compute","targetSign","targetResult","Number","innerText","includes","indexOf","nextInput","Lesson4","Counter","addCount","Example","useState","setCount","useEffect","App","destroy","setDestroy","timer","setTimeout","updateCount","clearTimeout","getStyle","background","color","fontWeight","display","textAlign","position","lineHeight","width","height","transition","Box","eleA","useRef","eleB","style","transform","useLayoutEffect","emptyUser","UserContext","UserLogin","user","useContext","name","onLogout","onLogin","UserCard","setUser","range","setRange","AlarmContext","formatNumber","toString","padStart","Clock","time","message","tick","setTick","date","Date","hour","getHours","minute","getMinutes","second","getSeconds","secondRotate","minuteRotate","hourRotate","getPointStyle","formatedDate","initialCount","useCount","initialState","reducer","action","Error","useReducer","dispatch","visible","setVisible","Add","useImperativeHandle","reset","AddWithRef","forwardRef","addRef","pause","setPause","useTick","getCurrentDateValue","toggle","ClockWithRef","memo","setDate","onClockChange","useCallback","intialContext","useMemo","FormV1","nameRef","phoneRef","values","setValues","phone","JSON","stringify","FormV2","setName","setPhone","formReducer","FormV3","useForm","field","options","FormV4","getFieldProps","User","setData","loading","setLoading","error","setError","status","msg","email","useFetch","url","dependencies","useAsync","promiseFn","debounceTimeout","getUserPromise","timeoutPromise","timeout","Promise","resolve","friends","Friends","store","createReducerContext","StoreContext","children","partialFn","ShareStateProvider","useShareState","getRemoteTimestamp","formatTime","remote","now","timestamp","setTimestamp","remoteRef","remoteChanged","newTimestamp","useNow","setNow","getDateValue","setTime","timeStr","split","setHours","setMinutes","setSeconds","getTime","DateForm","foucs","setFocus","setFieldsValue","formatedTime","maxLength","onBlur","setRemote","onFormChange","ACTION","showLogin","test","loginError","categoryList","foodList","orderMap","showCartDetail","increment","newOrderMap","userOrder","_","isEmpty","post","order","updateOrderMap","focusCategoryId","Login","onToggleLogin","show","src","person","tabIndex","onKeyDown","key","onKeyPress","placeholder","BottomCart","foodMap","reduce","food","totalMoney","totalCount","userOrderList","length","Object","keys","money","orders","price","orderImage","CategoryList","category","categoryId","FoodList","containerRef","currentCategoryIdRef","foodGroups","groupBy","onUpdateOrder","onScroll","containerEle","scrollTop","groupEles","querySelectorAll","groupEleIndex","findIndex","offsetTop","groupEle","currentId","dataset","currentCategoryId","querySelector","scrollIntoView","categoryName","find","sum","getCountFromOrder","selfSelected","image","Foods","foods","pages","lesson","Jsx","Express","ReactPractice","Props","DefaultProps","State","FibonacciPractice","SetState","StatePractice","Context","Ref","Event","EventPractice","Constructor","BindEvent","GetDerivedStateFromProps","ComponentDidMount","ShouldComponentUpdate","ComponentDidUpdate","Form","FormRef","Hoc","HocPractice","Function","UseStateBasic","UseEffectBasic","UseEffectTimer","UseLayoutEffect","UseContextBasic","HookRule","ClockPractice","CustomHook","UseReducerBasic","UseCallback","UseMemo","UseImperativeHandle","UseEffectAsync","ClockPracticeV2","UseForm","UseEffect","UseFetch","UseAsync","UseReducer","UseShareState","ClockPracticeV3","Lesson8","pageIndex","setPageIndex","onSetPage","location","hash","replace","page","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be69b73d.chunk.js","sourcesContent":["import React from 'react';\nimport './1.0-Component.css';\n\nclass Demo extends React.Component {\n  handleClick = () => {\n    alert('这是header');\n  };\n\n  render() {\n    return (\n      <div id=\"header\">\n        <p onClick={this.handleClick}>这是一个header组件</p>\n      </div>\n    );\n  }\n}\n\n// function Demo() {\n//   const handleClick = () => {\n//     alert('这是header');\n//   };\n\n//   return (\n//     <div id=\"header\">\n//       <p onClick={handleClick}>这是一个header组件</p>\n//     </div>\n//   );\n// }\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  render() {\n    return (\n      <div>\n        <div>header</div>\n        <div>content</div>\n      </div>\n    );\n  }\n}\n\n// 错误示例\n// class Demo extends React.Component {\n//   render() {\n//     return (\n//       <div>header</div>\n//       <div>content</div>\n//     );\n//   }\n// }\n\n// class Demo extends React.Component {\n//   render() {\n//     return (\n//       <>\n//         <div>header</div>\n//         <div>content</div>\n//       </>\n//     );\n//   }\n// }\n\n// class Demo extends React.Component {\n//   render() {\n//     return [\n//       <div>header</div>,\n//       <div>content</div>\n//     ];\n//   }\n// }\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  render() {\n    const num = 2 * 3;\n    return <div>2 * 3 = {num}</div>;\n  }\n}\n\n// class Demo extends React.Component {\n//   render() {\n//     const list = [1, 2, 3];\n//     return (\n//       <div>\n//         {list.map(item => (\n//           <span>{item}</span>\n//         ))}\n//       </div>\n//     );\n//   }\n// }\n\n// class Demo extends React.Component {\n//   render() {\n//     return (\n//       <div>\n//         {/* 这才是注释 */}\n//         <span>注释</span>\n//       </div>\n//     );\n//   }\n// }\n\nexport default Demo;\n","import React from 'react';\nimport './1.3-Practice.css';\n\nclass Demo extends React.Component {\n  render() {\n    const list = [2, 4, 6, 8, 10];\n    return (\n      <>\n        {list.map((item, index) => {\n          const isEven = index % 2 ? 'even-style' : '';\n          return <p className={`line ${isEven}`}>{item}</p>;\n        })}\n      </>\n    );\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Content extends React.Component {\n  render() {\n    return <div>{this.props.title}</div>;\n  }\n}\n\nconst Demo = () => <Content title=\"我是标题\" />;\n\nexport default Demo;\n","import React from 'react';\n\nclass Content extends React.Component {\n  static defaultProps = {\n    title: '默认标题',\n  };\n\n  render() {\n    return <div>{this.props.title}</div>;\n  }\n}\n\nconst Demo = () => <Content />;\n\n// 多个 Props 可以覆盖部分\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  state = {\n    times: 0,\n    updated: false,\n  };\n  render() {\n    return <p>{this.state.times}</p>;\n  }\n  componentDidMount() {\n    setInterval(() => {\n      this.setState({\n        times: this.state.times + 1,\n      });\n    }, 1000);\n\n    // 为什么不能直接修改 state ？\n    // this.state.times += 1;\n    // setTimeout(() => {\n    //   this.setState({ updated: true });\n    // }, 5000);\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  state = {\n    a: 0,\n    b: 1,\n    list: [0, 1],\n  };\n\n  componentDidMount() {\n    setInterval(() => {\n      const a = this.state.b;\n      const b = this.state.a + this.state.b;\n      this.setState({\n        a,\n        b,\n        list: [...this.state.list, b],\n      });\n    }, 1000);\n\n    // 为什么不能直接修改 state ？\n    // this.state.times += 1;\n    // setTimeout(() => {\n    //   this.setState({ updated: true });\n    // }, 5000);\n  }\n\n  render() {\n    return <p>{this.state.list.join(', ')}</p>;\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  state = {\n    number: 0,\n  };\n  render() {\n    return <p>{this.state.number}</p>;\n  }\n  componentDidMount() {\n    console.log('action1', this.state.number);\n    this.setState(\n      {\n        number: this.state.number + 1,\n      },\n      () => {\n        console.log('action3', this.state.number);\n      }\n    );\n    console.log('action2', this.state.number);\n  }\n}\n\nexport default Demo;\n","import React from 'react';\nimport './2.5-StatePractice.css';\n\nconst typeEnum = {\n  odd: 1,\n  even: 2,\n  normal: 3,\n};\n\nclass Demo extends React.Component {\n  state = {\n    // 初始为默认展示\n    type: typeEnum.normal,\n  };\n\n  render() {\n    const list = [2, 4, 6, 8, 10];\n    const { type } = this.state;\n    return (\n      <>\n        <button onClick={() => this.handleChange(typeEnum.odd)}>\n          奇数行加深\n        </button>\n        <button onClick={() => this.handleChange(typeEnum.even)}>\n          偶数行加深\n        </button>\n        <button onClick={() => this.handleChange(typeEnum.normal)}>\n          正常展示\n        </button>\n        {list.map((item, index) => {\n          let isDeep = '';\n          if (type === typeEnum.odd) {\n            // 奇数行加深\n            isDeep = index % 2 ? '' : 'deep-style';\n          } else if (type === typeEnum.even) {\n            // 偶数行加深\n            isDeep = index % 2 ? 'deep-style' : '';\n          }\n          return <p className={`line ${isDeep}`}>{item}</p>;\n        })}\n      </>\n    );\n  }\n\n  handleChange = type => {\n    this.setState({\n      type,\n    });\n  };\n}\n\nexport default Demo;\n","import React from 'react';\n\n// 创建 Context\nconst { Provider, Consumer } = React.createContext();\n\nclass Content extends React.Component {\n  render() {\n    return (\n      <>\n        {/* 组件内部也可以使用 Consumer */}\n        <h3>{this.props.title}</h3>\n      </>\n    );\n  }\n}\n\nclass Demo extends React.Component {\n  render() {\n    return (\n      // 提供 Provider\n      <Provider value={{ title: 'Hello Context' }}>\n        {/* 通过 Consumer 将值传递下去 */}\n        <Consumer>{value => <Content title={value.title} />}</Consumer>\n      </Provider>\n    );\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  render() {\n    return (\n      <input\n        ref={ele => {\n          this.myRef = ele;\n        }}\n      />\n    );\n  }\n\n  componentDidMount() {\n    this.myRef.focus();\n  }\n}\n\n// class Demo extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.myRef = React.createRef();\n//   }\n\n//   render() {\n//     return <input ref={this.myRef} />;\n//   }\n\n//   componentDidMount() {\n//     this.myRef.current.focus();\n//   }\n// }\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n    };\n  }\n  render() {\n    return (\n      <div>\n        <p onClick={this.handleClick}>{this.state.value}</p>\n        <input\n          value={this.state.value}\n          onFocus={this.handleFocus}\n          onChange={this.handleChange}\n        />\n      </div>\n    );\n  }\n\n  handleClick = e => {\n    console.log('点击事件对象', e);\n  };\n\n  handleFocus = () => {\n    this.setState({\n      value: '聚焦初始值',\n    });\n  };\n\n  handleChange = e => {\n    console.log(e);\n    this.setState({\n      value: e.target.value,\n    });\n  };\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      list: [],\n    };\n  }\n\n  render() {\n    const { open, list } = this.state;\n    return (\n      <div>\n        <button onClick={this.handleAdd}>加一行</button>\n        <button onClick={this.handleMinus}>减一行</button>\n        <button onClick={() => this.handleToggle(open)}>\n          {open ? '收起' : '展开'}\n        </button>\n        <ul>{open ? list.map(item => <li>{item}</li>) : null}</ul>\n      </div>\n    );\n  }\n\n  handleAdd = () => {\n    const list = this.state.list;\n    list.push('line');\n    this.setState({\n      open: true,\n      list,\n    });\n  };\n\n  handleMinus = () => {\n    const list = this.state.list;\n    list.pop();\n    this.setState({\n      open: true,\n      list,\n    });\n  };\n\n  handleToggle = open => {\n    this.setState({\n      open: !open,\n    });\n  };\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  constructor(props) {\n    // super();\n    // console.log(this.props); // undefinded\n    super(props);\n    console.log(this.props);\n  }\n  render() {\n    return <p>Constructor</p>;\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { counter: 0 }; // 初始化state\n    this.handleClick = this.handleClick.bind(this); // 事件绑定\n  }\n\n  // 🤔 尝试简写？\n  handleClick() {\n    console.log(this.state);\n  }\n\n  render() {\n    return <p onClick={this.handleClick}>Constructor</p>;\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Demo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type: 1,\n    };\n  }\n\n  static getDerivedStateFromProps = (nextProps, nextState) => {\n    return null;\n  };\n\n  render() {\n    return <p>GetDerivedStateFromProps</p>;\n  }\n}\n\nexport default Demo;\n","import React from 'react';\nimport axios from 'axios';\n\nclass Demo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n    };\n  }\n\n  componentDidMount() {\n    // 可以做1：获取 dom\n    // console.log(this.myRef.current);\n    // 可以做2：ajax\n    axios.get('https://xiaozhu.run/api/user/9527').then(res => {\n      this.setState({\n        username: res.data.data.username,\n      });\n    });\n  }\n\n  render() {\n    return <p>Username: {this.state.username}</p>;\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nclass Component extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: 'text',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.text === nextState.text) {\n      return false;\n    }\n    return true;\n  }\n\n  // PureComponent\n  componentDidMount() {\n    console.log('Component componentDidMount');\n    this.setState({\n      text: 'mounted',\n    });\n  }\n\n  render() {\n    console.log('Component Render', this.state.text);\n    return (\n      <p>\n        count: {this.props.count} <br />\n        text: {this.state.text}\n      </p>\n    );\n  }\n}\n\nclass Demo extends React.Component {\n  state = {\n    count: 0,\n  };\n\n  componentDidMount() {\n    setInterval(() => {\n      // console.log(`Demo setInterval run`);\n      this.setState({\n        count: this.state.count + 1,\n      });\n    }, 1000);\n  }\n\n  render() {\n    // console.log(`Demo Render`, this.state.count);\n    return <Component count={this.state.count} />;\n  }\n}\n\nexport default Demo;\n","import React from 'react';\nimport axios from 'axios';\n\nclass Component extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n    };\n  }\n\n  componentDidMount() {\n    // 可以做1：获取 dom\n    // console.log(this.myRef.current);\n    // 可以做2：ajax\n    axios.get(`https://xiaozhu.run/api/user/${this.props.id}`).then(res => {\n      this.setState({\n        username: res.data.data.username,\n      });\n    });\n  }\n\n  componentDidUpdate(nextProps) {\n    // 🤔 当id变化时，重新请求用户信息\n    console.log(nextProps);\n  }\n\n  render() {\n    return (\n      <p>\n        {this.props.id} Username: {this.state.username}\n      </p>\n    );\n  }\n}\n\nclass Demo extends React.Component {\n  state = {\n    id: 9527,\n  };\n\n  onChangeUser = () => {\n    this.setState({ id: this.state.id + 1 });\n  };\n\n  render() {\n    return (\n      <>\n        <button onClick={this.onChangeUser}>Change User {this.state.id}</button>\n        <Component id={this.state.id} />\n      </>\n    );\n  }\n}\n\nexport default Demo;\n","import React from 'react';\n\nexport default class NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: '' };\n  }\n\n  handleChange = event => {\n    this.setState({ value: event.target.value });\n  };\n\n  handleSubmit = event => {\n    alert('提交的名字: ' + this.state.value);\n    event.preventDefault();\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          名字：\n          <input\n            type=\"text\"\n            value={this.state.value}\n            onChange={this.handleChange}\n          />\n        </label>\n        <input type=\"submit\" value=\"提交\" />\n      </form>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n  }\n\n  handleSubmit = event => {\n    console.log('提交的名字: ' + this.inputRef.current.value);\n    event.preventDefault();\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <label>\n          名字：\n          <input type=\"text\" ref={this.inputRef} />\n        </label>\n        <input type=\"submit\" value=\"提交\" />\n      </form>\n    );\n  }\n}\n","import React from 'react';\n\nfunction withHeader(WrappedComponent) {\n  return class HOC extends React.Component {\n    render() {\n      return (\n        <div>\n          <div className=\"demo-header\">我是标题</div>\n          <WrappedComponent {...this.props} />\n        </div>\n      );\n    }\n  };\n}\n\n// @withHeader\nclass Demo extends React.Component {\n  render() {\n    return <div>内容1</div>;\n  }\n}\n\nexport default withHeader(Demo);\n","import React from 'react';\n\nfunction widthHoc(WrappedComponent) {\n  return class HOC extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        windowWidth: window.innerWidth,\n      };\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} {...this.state} />;\n    }\n\n    componentDidMount() {\n      window.addEventListener('resize', this.handleResize);\n    }\n\n    handleResize = () => {\n      this.setState({\n        windowWidth: window.innerWidth,\n      });\n    };\n  };\n}\n\n// @widthHoc\nclass Demo extends React.Component {\n  render() {\n    return <div>浏览器宽度：{this.props.windowWidth}</div>;\n  }\n}\n\nexport default widthHoc(Demo);\n","import React from 'react';\n\nimport './Caculator.scss';\n\nconst computeSign = ['+', '-', '×', '÷', '%', '='];\n\nclass Caculator extends React.Component {\n  state = {\n    // 本次输入\n    input: '0',\n    // 上一次输入\n    lastInput: '0',\n    // 当前运算符\n    sign: '=',\n    // 是否是最后输入\n    isLastSignInput: false,\n  };\n\n  getResult = (num1, num2, sign) => {\n    let result = 0;\n    switch (sign) {\n      case '+':\n        result = num1 + num2;\n        break;\n      case '-':\n        result = num1 - num2;\n        break;\n      case '×':\n        result = num1 * num2;\n        break;\n      case '÷':\n        result = num1 / num2;\n        break;\n    }\n    return String(result);\n  };\n\n  compute = targetSign => {\n    const { lastInput, input, sign } = this.state;\n    if (targetSign === '=') {\n      // 计算\n      if (sign !== '=') {\n        const targetResult = this.getResult(\n          Number(lastInput),\n          Number(input),\n          sign\n        );\n        this.setState({\n          input: targetResult,\n          sign: targetSign,\n        });\n      }\n    } else if (targetSign === '%') {\n      const targetResult = String(Number(input) / 100);\n      this.setState({\n        input: targetResult,\n      });\n    } else {\n      this.setState({\n        sign: targetSign,\n        lastInput: input,\n        isLastSignInput: true,\n      });\n    }\n  };\n\n  handleClick = e => {\n    const { input, isLastSignInput } = this.state;\n    const value = e.target.innerText;\n    if (value === 'C') {\n      this.setState({\n        input: '0',\n        lastInput: '0',\n        sign: '=',\n      });\n      return;\n    }\n    if (computeSign.includes(value)) {\n      this.compute(value);\n    } else if (value === '+/-') {\n      const targetResult = -Number(input);\n      // 不知道这个键是干嘛的\n      this.setState({\n        input: targetResult,\n      });\n    } else if (value === '.') {\n      if (input === '0' || isLastSignInput) {\n        this.setState({\n          input: '0.',\n          isLastSignInput: false,\n        });\n      } else {\n        if (input.indexOf('.') === -1) {\n          this.setState({\n            input: input + '.',\n          });\n        }\n      }\n    } else {\n      let nextInput =\n        input === '0' || isLastSignInput ? '' + value : input + value;\n      this.setState({\n        input: nextInput,\n        isLastSignInput: false,\n      });\n    }\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <div className=\"caculator\">\n        <div className=\"result-table\">{input}</div>\n        <div className=\"operation-table\" onClick={this.handleClick}>\n          <a className=\"block block--ctrl\">C</a>\n          <a className=\"block block--ctrl\">+/-</a>\n          <a className=\"block block--ctrl\">%</a>\n          <a className=\"block block--exp\">÷</a>\n          <a className=\"block block--num\">7</a>\n          <a className=\"block block--num\">8</a>\n          <a className=\"block block--num\">9</a>\n          <a className=\"block block--exp\">×</a>\n          <a className=\"block block--num\">4</a>\n          <a className=\"block block--num\">5</a>\n          <a className=\"block block--num\">6</a>\n          <a className=\"block block--exp\">-</a>\n          <a className=\"block block--num\">1</a>\n          <a className=\"block block--num\">2</a>\n          <a className=\"block block--num\">3</a>\n          <a className=\"block block--exp\">+</a>\n          <a className=\"block block--num block--double\">0</a>\n          <a className=\"block block--num\">.</a>\n          <a className=\"block block--exp\">=</a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Caculator;\n","import React from 'react';\nimport Caculator from './Caculator';\n\nfunction Lesson4() {\n  return <Caculator />;\n}\n\nexport default Lesson4;\n","import React from 'react';\n\nfunction Counter(props) {\n  return (\n    <div>\n      {/* 展示计数 */}\n      <p>Count: {props.count}</p>\n      {/* 计数 + 1，交给外部实现 */}\n      <button onClick={props.addCount}>Add</button>\n    </div>\n  );\n}\n\n// 默认值\nCounter.defaultProps = {\n  count: 10,\n};\n\nconst Example = () => {\n  return <Counter />;\n};\n\nexport default Example;\n","import React, { useState } from 'react';\n\nfunction Example() {\n  // 声明一个新的叫做 'count' 的 state 变量\n  const [count, setCount] = useState(0);\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>Click me</button>\n    </div>\n  );\n}\n\nexport default Example;\n","import React, { useState, useEffect } from 'react';\n\nconst Component = props => {\n  useEffect(() => {\n    // 更新\n    console.log('Update');\n    // 销毁\n    return () => console.log('Destroy');\n  }, [props.count]);\n  return <div>Effect Hook {props.count}</div>;\n};\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n  const [destroy, setDestroy] = useState(false);\n  return (\n    <div>\n      {/* 点击和可以初始化和销毁组件 */}\n      <button onClick={() => setDestroy(!destroy)}>\n        {destroy ? 'Initialize' : 'Destroy'}\n      </button>\n      {/* 计数 + 1 */}\n      <button onClick={() => setCount(count + 1)}>Add</button>\n      {destroy ? null : <Component count={count} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState, useEffect } from 'react';\n\nconst Component = props => {\n  // 初始化计时器\n  let timer = 0;\n\n  useEffect(() => {\n    // 更新\n    console.log('Update');\n    // 下一秒后 +1\n    timer = setTimeout(props.updateCount, 1000);\n    // 销毁\n    return () => {\n      console.log('Destroy');\n      // 清除计时器\n      clearTimeout(timer);\n    };\n  }, [props.count, props.updateCount]);\n  return <div>Effect Hook {props.count}</div>;\n};\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n  const [destroy, setDestroy] = useState(false);\n  return (\n    <div>\n      {/* 点击和可以初始化和销毁组件 */}\n      <button onClick={() => setDestroy(!destroy)}>\n        {destroy ? 'Initialize' : 'Destroy'}\n      </button>\n      {/* 计数 + 1 */}\n      <button onClick={() => setCount(count + 1)}>Add</button>\n      {destroy ? null : (\n        <Component count={count} updateCount={() => setCount(count + 1)} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState, useRef, useEffect, useLayoutEffect } from 'react';\n\nconst getStyle = background => {\n  return {\n    background,\n    color: '#fff',\n    fontWeight: 'bold',\n    display: 'block',\n    textAlign: 'center',\n    position: 'relative',\n    lineHeight: '140px',\n    width: 140,\n    height: 140,\n    transition: 'all 1s',\n  };\n};\n\nconst Box = () => {\n  const eleA = useRef(null);\n  const eleB = useRef(null);\n\n  // useEffect 在渲染 DOM 前【异步】执行设置样式\n  // 所以先渲染好 DOM，再设置样式，会有有动画效果\n  useEffect(() => {\n    eleA.current.style.transform = 'translateX(300px)';\n  }, []);\n\n  // useLayoutEffect 在渲染 DOM 前【同步】执行设置样式\n  // 所以会阻塞渲染，等设置好样式后再渲染DOM，不会有动画效果\n  useLayoutEffect(() => {\n    eleB.current.style.transform = 'translateX(300px)';\n  }, []);\n\n  return (\n    <div>\n      <div style={getStyle('blue')} ref={eleA}>\n        useEffect\n      </div>\n      <div style={getStyle('red')} ref={eleB}>\n        useLayoutEffect\n      </div>\n    </div>\n  );\n};\n\nconst Demo = () => {\n  const [count, setCount] = useState(0);\n  return (\n    <div>\n      <button onClick={() => setCount(count + 1)}>Refresh</button>\n      <Box key={count} />\n    </div>\n  );\n};\n\nexport default Demo;\n","import React, { useContext, useState } from 'react';\n\nconst emptyUser = {};\nconst UserContext = React.createContext(emptyUser);\n\nfunction Demo() {\n  const [user, setUser] = useState(emptyUser);\n\n  const onLogin = () => {\n    setUser({ name: 'Mike' });\n  };\n\n  const onLogout = () => {\n    setUser(emptyUser);\n  };\n\n  return (\n    // UserContext.Provider 提供 context 值\n    <UserContext.Provider value={user}>\n      <UserLogin onLogin={onLogin} onLogout={onLogout} />\n      <UserCard />\n    </UserContext.Provider>\n  );\n}\n\nfunction UserLogin(props) {\n  // 获取 UserContext 当前的值，类似于 <UserContext.Consumer />\n  const user = useContext(UserContext);\n  return (\n    <div>\n      {user.name ? (\n        <button onClick={props.onLogout}>Logout</button>\n      ) : (\n        <button onClick={props.onLogin}>Login</button>\n      )}\n    </div>\n  );\n}\n\nfunction UserCard() {\n  // 获取 UserContext 当前的值，类似于 <UserContext.Consumer />\n  const user = useContext(UserContext);\n  return <div>{user.name ? `Hi: ${user.name}` : 'Your are not login'}</div>;\n}\n\nexport default Demo;\n\n/*\n// 通过 UserContext.Consumer 注入\n<UserContext.Consumer>\n  {user => <UserCardWithoutContextHook user={user} />}\n</UserContext.Consumer>\nfunction UserCardWithoutContextHook(props) {\n  const { user } = props;\n  return <div>{user.name ? `Hi: ${user.name}` : 'Your are not login'}</div>;\n}\n*/\n","import React, { useEffect, useState } from 'react';\n\nfunction Demo() {\n  const [count, setCount] = useState(0);\n  const [range, setRange] = useState('Less than 5');\n  // Hook 只能放在顶层，不能放在判断条件里\n  if (count > 5) {\n    useEffect(() => {\n      setRange('Greate than 5 ');\n    });\n  }\n\n  return (\n    <div>\n      <p>Current Count: {count}</p>\n      <p>Range: {range}</p>\n      <button onClick={() => setCount(count + 1)}>ADD</button>\n    </div>\n  );\n}\n\nexport default Demo;\n","import React, { useState, useEffect, useContext } from 'react';\nimport './5.7-Practice.css';\n\nconst AlarmContext = React.createContext({});\n\nconst getPointStyle = (hour, minute, second) => {\n  const secondRotate = (second / 60) * 360;\n  const minuteRotate = (minute / 60) * 360 + secondRotate / 60;\n  const hourRotate = (hour / 12) * 360 + minuteRotate / 12;\n  return {\n    second: { transform: `translate(-50%, 0) rotate(${secondRotate}deg)` },\n    minute: { transform: `translate(-50%, 0) rotate(${minuteRotate}deg)` },\n    hour: { transform: `translate(-50%, 0) rotate(${hourRotate}deg)` },\n  };\n};\n\nconst formatNumber = value => value.toString().padStart(2, '0');\n\nconst Clock = () => {\n  const { time, message } = useContext(AlarmContext);\n  const [tick, setTick] = useState(0);\n\n  let timer = 0;\n  useEffect(() => {\n    timer = setTimeout(() => {\n      setTick(tick + 1);\n    }, 1000);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [tick]);\n\n  const date = new Date();\n  const hour = date.getHours();\n  const minute = date.getMinutes();\n  const second = date.getSeconds();\n  const style = getPointStyle(hour, minute, second);\n\n  const formatedDate = `${formatNumber(hour)}:${formatNumber(\n    minute\n  )}:${formatNumber(second)}`;\n\n  useEffect(() => {\n    if (time === formatedDate) {\n      console.log(message);\n    }\n  });\n\n  return (\n    <div className=\"clock\">\n      <div className=\"background\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n      <div className=\"point\"></div>\n      <div className=\"hour\" style={style.hour}></div>\n      <div className=\"minute\" style={style.minute}></div>\n      <div className=\"second\" style={style.second}></div>\n      <div className=\"time\">{formatedDate}</div>\n    </div>\n  );\n};\n\nconst Demo = () => {\n  return (\n    <AlarmContext.Provider value={{ time: '19:09:16', message: '起床了' }}>\n      <Clock />\n    </AlarmContext.Provider>\n  );\n};\n\nexport default Demo;\n","import React, { useState, useEffect } from 'react';\n\n// 自定义 Hook\nfunction useCount(initialCount) {\n  const [count, setCount] = useState(initialCount);\n  return [count, setCount];\n}\n\n// 计数器组件\nfunction Counter() {\n  const [count, setCount] = useCount(0);\n  return (\n    <>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(count + 1)}>ADD</button>\n    </>\n  );\n}\n\nexport default Counter;\n","import React, { useReducer } from 'react';\n\n// 声明初始 state\nconst initialState = { count: 0 };\n\n// 定义 reducer 函数\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'increment':\n      return { count: state.count + 1 };\n    case 'decrement':\n      return { count: state.count - 1 };\n    default:\n      throw new Error('Invalid dispatch type');\n  }\n}\n\n// 计数器组件\nfunction Counter() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <>\n      <p>Count: {state.count}</p>\n      <button onClick={() => dispatch({ type: 'decrement' })}>-</button>\n      <button onClick={() => dispatch({ type: 'increment' })}>+</button>\n    </>\n  );\n}\n\nexport default Counter;\n","import React, { useState, memo, useCallback } from 'react';\n\nconst UserLogin = props => {\n  console.log('User Component Rendering');\n  return (\n    <div>\n      <button onClick={props.onLogin}>Login</button>\n    </div>\n  );\n};\n\nconst Demo = () => {\n  const [user, setUser] = useState('');\n  const [count, setCount] = useState(1);\n\n  const onLogin = () => {\n    setUser('Zhangsan');\n  };\n\n  return (\n    <div>\n      <UserLogin onLogin={onLogin} />\n      <h3>{user}</h3>\n      <button onClick={() => setCount(count + 1)}>Add</button>\n      <span>{count}</span>\n    </div>\n  );\n};\n\nexport default Demo;\n","// 计算税率\nimport React, { useState, useMemo } from 'react';\n\nconst pow = a => {\n  console.log('pow is called');\n  return a * a;\n};\n\n//\nconst Content = props => {\n  console.log('Content is rendered');\n  return <div>Large Component {props.visible ? 'show' : 'hide'}</div>;\n};\n\nconst Demo = () => {\n  const [count, setCount] = useState(1);\n  const [visible, setVisible] = useState(false);\n\n  // 每次 Toggle 都会执行\n  const result = pow(count);\n\n  // const result = useMemo(() => pow(count), [count]);\n  // const MemoizedContent = useMemo(\n  //   () => <Content visible={visible} />,\n  //   [visible]\n  // );\n\n  return (\n    <div>\n      <p>\n        The compute result of {count} is\n        <b style={{ color: 'red' }}> {result}</b>\n      </p>\n      <button onClick={() => setCount(count + 1)}>Add</button>\n      <button onClick={() => setVisible(!visible)}>Toggle</button>\n      {/* 每次 Add 都会渲染 */}\n      <Content visible={visible} />\n    </div>\n  );\n};\n\nexport default Demo;\n","import React, {\n  useState,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n} from 'react';\n\n// 第二个 ref 参数通过 forwardRef 转发进来\nconst Add = (props, ref) => {\n  // 使用初始值来作为内部的 state\n  const [count, setCount] = useState(props.initialCount);\n\n  const onStateAdd = () => setCount(count + 1);\n\n  // 暴露对应的方法\n  useImperativeHandle(\n    ref,\n    () => ({\n      reset: () => {\n        setCount(props.initialCount);\n      },\n    }),\n    []\n  );\n\n  return (\n    <div>\n      <div>count: {count}</div>\n      <button onClick={onStateAdd}>Add Count State</button>\n    </div>\n  );\n};\n\n// 调用 AddWithRef 能将 ref 传递下去\nconst AddWithRef = forwardRef(Add);\n\nconst Demo = () => {\n  const addRef = useRef(null);\n  const reset = () => addRef.current.reset();\n\n  return (\n    <>\n      <AddWithRef ref={addRef} initialCount={10} />\n      <button onClick={reset}>Reset</button>\n    </>\n  );\n};\n\nexport default Demo;\n","import React, { useState } from 'react';\n\nconst Counter = () => {\n  const [count, setCount] = useState(0);\n\n  const onAlert = () => {\n    setTimeout(() => {\n      alert('Count: ' + count);\n    }, 3000);\n  };\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(count + 1)}>Add</button>\n      <button onClick={onAlert}>Show count after 3 seconds</button>\n    </div>\n  );\n};\n\nexport default Counter;\n","import React, {\n  useState,\n  useEffect,\n  useContext,\n  useImperativeHandle,\n  forwardRef,\n  useRef,\n  useCallback,\n} from 'react';\nimport './6.6-Practice.css';\n\nconst AlarmContext = React.createContext({});\n\nconst useTick = pause => {\n  const [tick, setTick] = useState(0);\n\n  let timer = 0;\n  useEffect(() => {\n    if (pause) {\n      return;\n    }\n    timer = setTimeout(() => {\n      setTick(tick + 1);\n    }, 1000);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [tick, pause]);\n  return tick;\n};\n\nconst getCurrentDateValue = () => {\n  const date = new Date();\n  const hour = date.getHours();\n  const minute = date.getMinutes();\n  const second = date.getSeconds();\n  return [hour, minute, second];\n};\n\nconst getPointStyle = (hour, minute, second) => {\n  const secondRotate = (second / 60) * 360;\n  const minuteRotate = (minute / 60) * 360 + secondRotate / 60;\n  const hourRotate = (hour / 12) * 360 + minuteRotate / 12;\n  return {\n    second: { transform: `translate(-50%, 0) rotate(${secondRotate}deg)` },\n    minute: { transform: `translate(-50%, 0) rotate(${minuteRotate}deg)` },\n    hour: { transform: `translate(-50%, 0) rotate(${hourRotate}deg)` },\n  };\n};\n\nconst formatNumber = value => value.toString().padStart(2, '0');\n\nconst Clock = (props, ref) => {\n  const [pause, setPause] = useState(false);\n  const { time, message } = useContext(AlarmContext);\n  const tick = useTick(pause);\n  const [hour, minute, second] = getCurrentDateValue();\n  const style = getPointStyle(hour, minute, second);\n\n  const formatedDate = `${formatNumber(hour)}:${formatNumber(\n    minute\n  )}:${formatNumber(second)}`;\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      toggle: () => {\n        setPause(!pause);\n        return !pause;\n      },\n    }),\n    [pause]\n  );\n\n  useEffect(() => {\n    if (time === formatedDate) {\n      console.log(message);\n    }\n    props.onChange && props.onChange(formatedDate);\n  }, [tick]);\n\n  // 打印渲染次数和秒数;\n  useEffect(() => {\n    console.log(`render`, tick);\n  });\n\n  return (\n    <div className=\"clock\">\n      <div className=\"background\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n      <div className=\"point\"></div>\n      <div className=\"hour\" style={style.hour}></div>\n      <div className=\"minute\" style={style.minute}></div>\n      <div className=\"second\" style={style.second}></div>\n    </div>\n  );\n};\n\nconst ClockWithRef = React.memo(forwardRef(Clock));\n\nconst Demo = () => {\n  const [date, setDate] = useState('');\n  const [pause, setPause] = useState(false);\n  const ref = useRef();\n\n  const onClockChange = useCallback(date => {\n    setDate(date);\n  }, []);\n\n  const onToggle = () => {\n    const pause = ref.current.toggle();\n    setPause(pause);\n  };\n\n  const intialContext = React.useMemo(() => {\n    return { time: '19:09:16', message: '起床了' };\n  }, []);\n\n  return (\n    <AlarmContext.Provider value={intialContext}>\n      <button onClick={onToggle}>{pause ? '恢复' : '暂停'}</button>\n      <ClockWithRef onChange={onClockChange} ref={ref} />\n      <div className=\"parent-time\">{date}</div>\n    </AlarmContext.Provider>\n  );\n};\n\nexport default Demo;\n","import React, { useState, useReducer, useRef, useEffect } from 'react';\n\n/**\n * 非受控表单\n */\nconst FormV1 = () => {\n  const nameRef = useRef(null);\n  const phoneRef = useRef(null);\n  const [values, setValues] = useState({});\n  const onGetValues = () => {\n    const name = nameRef.current.value;\n    const phone = phoneRef.current.value;\n    setValues({ name, phone });\n  };\n  return (\n    <form>\n      <p>\n        <label>Name: </label>\n        <input type=\"text\" ref={nameRef} />\n      </p>\n      <p>\n        <label>Phone: </label>\n        <input type=\"text\" ref={phoneRef} />\n      </p>\n      <button onClick={onGetValues}>Get Values</button>\n      {/* Set Form */}\n      <p>Form Values: {JSON.stringify(values)}</p>\n    </form>\n  );\n};\n\n/**\n * 通过基础 state hook 管理表单\n */\nconst FormV2 = () => {\n  const [name, setName] = useState();\n  const [phone, setPhone] = useState();\n  return (\n    <form>\n      <p>\n        <label>Name: </label>\n        <input\n          type=\"text\"\n          onChange={e => setName(e.target.value)}\n          value={name || ''}\n        />\n      </p>\n      <p>\n        <label>Phone: </label>\n        <input\n          type=\"text\"\n          onChange={e => setPhone(e.target.value)}\n          value={phone || ''}\n        />\n      </p>\n      <p>Form Values: {JSON.stringify({ name, phone })}</p>\n    </form>\n  );\n};\n\n/**\n * 通过 reducer 统一管理表单\n */\nconst formReducer = (state, action) => {\n  return {\n    ...state,\n    ...action,\n  };\n};\nconst FormV3 = () => {\n  const [values, dispatch] = useReducer(formReducer, {});\n  return (\n    <form>\n      <p>\n        <label>Name: </label>\n        <input\n          type=\"text\"\n          onChange={e => dispatch({ name: e.target.value })}\n          value={values.name || ''}\n        />\n      </p>\n      <p>\n        <label>Phone: </label>\n        <input\n          type=\"text\"\n          onChange={e => dispatch({ phone: e.target.value })}\n          value={values.phone || ''}\n        />\n      </p>\n      <p>Form Values: {JSON.stringify(values)}</p>\n    </form>\n  );\n};\n\n/**\n * 提取自定义 Hook：UseForm\n */\nexport const useForm = () => {\n  const formReducer = (state, action) => ({ ...state, ...action });\n  const [values, dispatch] = useReducer(formReducer, {});\n  const getFieldProps = (field, options) => {\n    return {\n      type: 'input',\n      value: values[field] || '',\n      onChange: e => {\n        dispatch({ [field]: e.target.value });\n        setTimeout(() => {\n          options && options.onChange && options.onChange();\n        });\n      },\n    };\n  };\n\n  const setFieldsValue = field => dispatch(field);\n\n  return [values, getFieldProps, setFieldsValue];\n};\nconst FormV4 = () => {\n  const [values, getFieldProps] = useForm({});\n  return (\n    <form>\n      <p>\n        <label>Name: </label>\n        <input {...getFieldProps('name')} />\n      </p>\n      <p>\n        <label>Phone: </label>\n        <input {...getFieldProps('phone')} />\n      </p>\n      <p>Form Values: {JSON.stringify(values)}</p>\n    </form>\n  );\n};\n\nconst Demo = () => {\n  return (\n    <ul>\n      <li>\n        <h3>V1 非受控表单</h3>\n        <FormV1 />\n      </li>\n      <li>\n        <h3>V2 useState 受控表单</h3>\n        <FormV2 />\n      </li>\n      <li>\n        <h3>V3 useReducer 统一管理</h3>\n        <FormV3 />\n      </li>\n      <li>\n        <h3>V4 useForm 自定义 Hook</h3>\n        <FormV4 />\n      </li>\n    </ul>\n  );\n};\n\nexport default Demo;\n","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\n\nconst User = ({ id }) => {\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(async () => {\n    setLoading(true);\n    const res = await axios.get(`https://xiaozhu.run/api/user/${id}`);\n    setLoading(false);\n    if (res.status === 200 && res.data) {\n      setData(res.data.data || {});\n    } else {\n      setError({ msg: '请求失败' });\n    }\n  }, [id]);\n\n  if (error) {\n    return <span>{error.msg}</span>;\n  }\n\n  return loading ? (\n    <div>Loading...</div>\n  ) : (\n    <ul>\n      <li>Email: {data.email}</li>\n      <li>Name: {data.username}</li>\n    </ul>\n  );\n};\n\nconst Demo = () => {\n  const [count, setCount] = useState(9527);\n  return (\n    <>\n      <button onClick={() => setCount(count + 1)}>GetUser {count}</button>\n      <User id={count} />\n    </>\n  );\n};\n\nexport default Demo;\n","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\n\nexport const useFetch = (url, dependencies) => {\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(async () => {\n    setLoading(true);\n    const res = await axios.get(url);\n    setLoading(false);\n    if (res.status === 200 && res.data) {\n      setData(res.data.data || {});\n    } else {\n      setError({ msg: '请求失败' });\n    }\n  }, dependencies);\n\n  return { data, loading, error };\n};\n\nconst User = ({ id }) => {\n  const {\n    data = {},\n    loading,\n    error,\n  } = useFetch(`https://xiaozhu.run/api/user/${id}`, [id]);\n  if (error) {\n    return <span>{error.msg}</span>;\n  }\n  return loading ? (\n    <div>Loading...</div>\n  ) : (\n    <ul>\n      <li>Email: {data.email}</li>\n      <li>Name: {data.username}</li>\n    </ul>\n  );\n};\n\nconst Demo = () => {\n  const [count, setCount] = useState(9527);\n  return (\n    <>\n      <button onClick={() => setCount(count + 1)}>GetUser {count}</button>\n      <User id={count} />\n    </>\n  );\n};\n\nexport default Demo;\n","import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\n\nexport const useAsync = (promiseFn, dependencies, debounceTimeout) => {\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(async () => {\n    setLoading(true);\n    try {\n      const res = await promiseFn();\n      setData(res);\n    } catch (e) {\n      setError(error);\n    }\n    setLoading(false);\n    return () => setError(null);\n  }, dependencies);\n  return { data, loading, error };\n};\n\nconst getUserPromise = async id => {\n  const res = await axios.get(`https://xiaozhu.run/api/user/${id}`);\n  return res.data.data;\n};\n\nconst timeoutPromise = timeout => {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(), timeout);\n  });\n};\n\nconst User = ({ id }) => {\n  const { data = {}, loading } = useAsync(async () => {\n    await timeoutPromise(1000);\n    return await getUserPromise(id);\n  }, [id]);\n\n  return loading ? (\n    <div>Loading...</div>\n  ) : (\n    <ul>\n      <li>Email: {data.email}</li>\n      <li>Name: {data.username}</li>\n    </ul>\n  );\n};\n\nconst Demo = () => {\n  const [count, setCount] = useState(9527);\n  return (\n    <>\n      <button onClick={() => setCount(count + 1)}>GetUser {count}</button>\n      <User id={count} />\n    </>\n  );\n};\n\nexport default Demo;\n","import React, { useReducer } from 'react';\n\nconst initialState = {\n  user: { id: 1, name: 'Lisi' },\n  friends: ['LiLei', 'HanMeiMei'],\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'addFriends':\n      return {\n        ...state,\n        friends: [...state.friends, action.name],\n      };\n    case 'modifyName':\n      return {\n        ...state,\n        user: { ...state.user, name: action.name },\n      };\n  }\n};\n\nconst User = props => {\n  const onModifyName = () => {\n    props.dispatch({ type: 'modifyName', name: 'ZhangSan' });\n  };\n  return (\n    <>\n      <p>My name is: {props.user.name}</p>\n      <button onClick={onModifyName}>Modify Name</button>\n    </>\n  );\n};\n\nconst Friends = props => {\n  const onAddFriend = () => {\n    props.dispatch({ type: 'addFriends', name: 'Zhangsan' });\n  };\n  return (\n    <>\n      <p>My Friends: {props.friends.join(', ')} </p>\n      <button onClick={onAddFriend}>Add Friends</button>\n    </>\n  );\n};\n\nconst Demo = () => {\n  const [store, dispatch] = useReducer(reducer, initialState);\n  return (\n    <div>\n      <User user={store.user} dispatch={dispatch} />\n      <Friends friends={store.friends} dispatch={dispatch} />\n      <p>Store: {JSON.stringify(store)}</p>\n    </div>\n  );\n};\n\nexport default Demo;\n","import React, { useReducer, useContext } from 'react';\n\n// 这是我们初始的数据仓库 store\nconst initialState = {\n  user: { id: 1, name: 'Lisi' },\n  friends: ['LiLei', 'HanMeiMei'],\n};\n\n// 定义一个 UserContext，用于传递 store\nconst UserContext = React.createContext(initialState);\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'addFriends':\n      return {\n        ...state,\n        friends: [...state.friends, action.name],\n      };\n    case 'modifyName':\n      return {\n        ...state,\n        user: { ...state.user, name: action.name },\n      };\n  }\n};\n\nconst User = () => {\n  // 通过 context 获取 store 和 dispatch\n  const { store, dispatch } = useContext(UserContext);\n  return (\n    <>\n      <p>My name is: {store.user.name}</p>\n      <button\n        onClick={() => dispatch({ type: 'modifyName', name: 'Zhangsan' })}\n      >\n        Modify Name\n      </button>\n    </>\n  );\n};\n\nconst Friends = () => {\n  // 通过 context 获取 store 和 dispatch\n  const { store, dispatch } = useContext(UserContext);\n  return (\n    <>\n      <p>My Friends: {store.friends.join(', ')} </p>\n      <button\n        onClick={() => dispatch({ type: 'addFriends', name: 'Zhangsan' })}\n      >\n        Add Friends\n      </button>\n    </>\n  );\n};\n\nexport default () => {\n  const [store, dispatch] = useReducer(reducer, initialState);\n  return (\n    <div>\n      <UserContext.Provider value={{ store, dispatch }}>\n        <User />\n        <Friends />\n      </UserContext.Provider>\n      <p>Store: {JSON.stringify(store)}</p>\n    </div>\n  );\n};\n","import React, { useReducer, useContext } from 'react';\n\nconst initialState = {\n  user: { id: 1, name: 'Lisi' },\n  friends: ['LiLei', 'HanMeiMei'],\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'addFriends':\n      return {\n        ...state,\n        friends: [...state.friends, action.name],\n      };\n    case 'modifyName':\n      return {\n        ...state,\n        user: { ...state.user, name: action.name },\n      };\n  }\n};\n\nexport const createReducerContext = (reducer, initialState) => {\n  // 在内部定义一个 StoreContext，用于传递 store\n  const StoreContext = React.createContext(initialState);\n\n  // Provider\n  const ShareStateProvider = props => {\n    const [store, dispatch] = useReducer(reducer, initialState);\n    return (\n      <StoreContext.Provider value={{ store, dispatch }}>\n        {props.children}\n      </StoreContext.Provider>\n    );\n  };\n\n  // 用于取数据的自定义 Hook\n  const useShareState = partialFn => {\n    const { store, dispatch } = useContext(StoreContext);\n    return {\n      data: partialFn ? partialFn(store) : store,\n      dispatch,\n    };\n  };\n\n  return [ShareStateProvider, useShareState];\n};\n\n// 再组件外部创建 Provider 和\nconst [ShareStateProvider, useShareState] = createReducerContext(\n  reducer,\n  initialState\n);\n\n// 用户组件\nconst User = () => {\n  const { data, dispatch } = useShareState(store => store.user);\n  return (\n    <>\n      <p>My name is: {data.name}</p>\n      <button\n        onClick={() => dispatch({ type: 'modifyName', name: 'Zhangsan' })}\n      >\n        Modify Name\n      </button>\n    </>\n  );\n};\n\n// 好友列表组件\nconst Friends = () => {\n  const { data, dispatch } = useShareState(store => store.friends);\n  return (\n    <>\n      <p>My Friends: {data.join(', ')} </p>\n      <button\n        onClick={() => dispatch({ type: 'addFriends', name: 'Zhangsan' })}\n      >\n        Add Friends\n      </button>\n    </>\n  );\n};\n\nconst Demo = () => {\n  return (\n    <>\n      <ShareStateProvider>\n        <User />\n        <Friends />\n      </ShareStateProvider>\n    </>\n  );\n};\n\nexport default Demo;\n","import React, {\n  useState,\n  useEffect,\n  useContext,\n  useImperativeHandle,\n  forwardRef,\n  useRef,\n  useCallback,\n} from 'react';\nimport axios from 'axios';\nimport { useAsync } from './7.3-UseAsync';\nimport { useForm } from './7.0-UseForm';\n\nimport './7.7-Practice.css';\n\nconst AlarmContext = React.createContext({});\n\n// 自定义 Hook：每秒计时器\nconst useTick = pause => {\n  const [tick, setTick] = useState(0);\n  let timer = 0;\n  useEffect(() => {\n    if (pause) {\n      return;\n    }\n    timer = setTimeout(() => {\n      setTick(tick + 1);\n    }, 1000);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [tick, pause]);\n  return tick;\n};\n\nconst getRemoteTimestamp = async () => {\n  const res = await axios.get('https://xiaozhu.run/api/current-time');\n  return res.data.data;\n};\n\n// 通过时间戳获取时间\nconst getDateValue = timestamp => {\n  const date = new Date(timestamp);\n  const hour = date.getHours();\n  const minute = date.getMinutes();\n  const second = date.getSeconds();\n  return [hour, minute, second];\n};\n\n// 指针样式\nconst getPointStyle = (hour, minute, second) => {\n  const secondRotate = (second / 60) * 360;\n  const minuteRotate = (minute / 60) * 360 + secondRotate / 60;\n  const hourRotate = (hour / 12) * 360 + minuteRotate / 12;\n  return {\n    second: { transform: `translate(-50%, 0) rotate(${secondRotate}deg)` },\n    minute: { transform: `translate(-50%, 0) rotate(${minuteRotate}deg)` },\n    hour: { transform: `translate(-50%, 0) rotate(${hourRotate}deg)` },\n  };\n};\n\n// 格式化时间\nconst formatTime = (hour, minute, second) => {\n  return [hour, minute, second]\n    .map(value => value.toString().padStart(2, '0'))\n    .join(':');\n};\n\n// 自定义 Hook：返回服务端或本地的时间戳\nconst useNow = (remote, tick) => {\n  const [timestamp, setTimestamp] = useState(Date.now());\n  const remoteRef = useRef();\n  const { data, loading } = useAsync(async () => {\n    const remoteChanged = remoteRef.current !== remote;\n    let newTimestamp = timestamp;\n    // 每 5 秒同步一次\n    if (remoteChanged) {\n      newTimestamp = remote ? await getRemoteTimestamp() : Date.now();\n    } else if (remote && tick % 5 === 0) {\n      newTimestamp = await getRemoteTimestamp();\n    } else {\n      newTimestamp = newTimestamp + 1000;\n    }\n    remoteRef.current = remote;\n    return newTimestamp;\n  }, [remote, tick]);\n\n  useEffect(() => {\n    data && setTimestamp(data);\n  }, [data]);\n\n  return [timestamp, setTimestamp, loading];\n};\n\n// 时间组件\nconst Clock = (props, ref) => {\n  const [pause, setPause] = useState(false);\n  const { time, message } = useContext(AlarmContext);\n  const tick = useTick(pause);\n  const [now, setNow, loading] = useNow(props.remote, tick);\n\n  const [hour, minute, second] = getDateValue(now);\n  const style = getPointStyle(hour, minute, second);\n  const formatedDate = formatTime(hour, minute, second);\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      toggle: () => {\n        setPause(!pause);\n        return !pause;\n      },\n      setTime: timeStr => {\n        const [hour, minute, second] = timeStr.split(':');\n        const date = new Date();\n        date.setHours(hour);\n        date.setMinutes(minute);\n        date.setSeconds(second);\n        setNow(date.getTime());\n      },\n    }),\n    [pause]\n  );\n\n  useEffect(() => {\n    if (time === formatedDate) {\n      console.log(message);\n    }\n    props.onChange && props.onChange(formatedDate);\n  }, [formatedDate]);\n\n  return (\n    <>\n      {loading && <span>loading...</span>}\n      <div className=\"clock\">\n        <div className=\"background\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n        <div className=\"point\"></div>\n        <div className=\"hour\" style={style.hour}></div>\n        <div className=\"minute\" style={style.minute}></div>\n        <div className=\"second\" style={style.second}></div>\n      </div>\n    </>\n  );\n};\n\n// 时间表单组件\nconst DateForm = props => {\n  const [foucs, setFocus] = useState(false);\n  const [values, getFieldProps, setFieldsValue] = useForm();\n\n  useEffect(() => {\n    if (props.value && !foucs) {\n      const [hour, minute, second] = props.value.split(':');\n      setFieldsValue({ hour, minute, second });\n    }\n  }, [props.value]);\n\n  useEffect(() => {\n    if (foucs && values.hour && values.minute && values.second) {\n      const formatedTime = formatTime(\n        values.hour,\n        values.minute,\n        values.second\n      );\n      props && props.onChange(formatedTime);\n    }\n  }, [values]);\n\n  return (\n    <>\n      <input\n        maxLength=\"2\"\n        onFocus={() => setFocus(true)}\n        onBlur={() => setFocus(false)}\n        {...getFieldProps('hour')}\n      />\n      :\n      <input\n        maxLength=\"2\"\n        onFocus={() => setFocus(true)}\n        onBlur={() => setFocus(false)}\n        {...getFieldProps('minute')}\n      />\n      :\n      <input\n        maxLength=\"2\"\n        onFocus={() => setFocus(true)}\n        onBlur={() => setFocus(false)}\n        {...getFieldProps('second')}\n      />\n    </>\n  );\n};\n\n// 包装 Ref 和 Pure Render\nconst ClockWithRef = React.memo(forwardRef(Clock));\n\n// 根组件\nconst Demo = () => {\n  const [date, setDate] = useState('');\n  const [pause, setPause] = useState(false);\n  const [remote, setRemote] = useState(false);\n  const ref = useRef();\n\n  const onClockChange = useCallback(date => {\n    setDate(date);\n  }, []);\n\n  const onFormChange = useCallback(values => {\n    ref.current.setTime(values);\n  }, []);\n\n  const onToggle = () => {\n    const pause = ref.current.toggle();\n    setPause(pause);\n  };\n\n  const intialContext = React.useMemo(() => {\n    return { time: '19:09:16', message: '起床了' };\n  }, []);\n\n  return (\n    <AlarmContext.Provider value={intialContext}>\n      <button onClick={onToggle}>{pause ? '恢复' : '暂停'}</button>\n      <button onClick={() => setRemote(!remote)}>\n        {remote ? '服务器时间' : '本地时间'}\n      </button>\n      <ClockWithRef onChange={onClockChange} remote={remote} ref={ref} />\n      <div className=\"parent-time\">\n        {remote ? date : <DateForm onChange={onFormChange} value={date} />}\n      </div>\n    </AlarmContext.Provider>\n  );\n};\n\nexport default Demo;\n","export default __webpack_public_path__ + \"static/media/person.41f311b4.svg\";","import { createReducerContext } from '../../lesson-7/7.6-UseShareState';\nimport _ from 'lodash';\nimport axios from 'axios';\n\nconst initialState = {\n  user: '',\n  loginError: '',\n  showLogin: false,\n  showCartDetail: false,\n  foodList: [],\n  categoryList: [],\n  orderMap: [],\n  focusCategoryId: null,\n};\n\nconst ACTION = {\n  TOGGLE_LOGIN: 1, // 登录弹框\n  SET_USER: 2, // 设置用户\n  SET_FOOD_LIST: 3, // 设置菜品\n  SET_ORDER_MAP: 4, // 设置订单\n  TOGGLE_CART_DETAIL: 5, // 购物车详情\n  UPDATE_ORDER: 6, // 更新订单（点餐）\n  SET_FOCUS_CATEGORY_ID: 7, // 设置当前高亮的分组\n};\n\n// 更新订单\nconst updateOrderMap = (orderMap, user, id, increment) => {\n  // 找到订单\n  let userOrder = { ...(orderMap[user] || {}) };\n  let count = userOrder[id] || 0;\n  count += increment ? 1 : -1;\n  if (count <= 0) {\n    delete userOrder[id];\n  } else {\n    userOrder[id] = count;\n  }\n  if (_.isEmpty(userOrder)) {\n    delete orderMap[user];\n  } else {\n    orderMap[user] = userOrder;\n  }\n\n  // 每次更新订单后，将该用户的点餐信息同步到服务端\n  axios.post('https://xiaozhu.run/api/order', { user, order: userOrder });\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ACTION.TOGGLE_LOGIN:\n      return {\n        ...state,\n        showLogin: action.data,\n      };\n    case ACTION.SET_USER:\n      if (action.data && !/^[a-z0-9\\-_]{4,20}$/.test(action.data)) {\n        return {\n          ...state,\n          loginError: '用户名长度 4~20，包含小写字母、数字、_、-',\n        };\n      }\n      return {\n        ...state,\n        loginError: '',\n        showLogin: false,\n        user: action.data,\n      };\n    case ACTION.SET_FOOD_LIST:\n      return {\n        ...state,\n        categoryList: action.data.categoryList,\n        foodList: action.data.foodList,\n      };\n    case ACTION.SET_ORDER_MAP:\n      return {\n        ...state,\n        orderMap: action.data,\n      };\n    case ACTION.TOGGLE_CART_DETAIL:\n      return {\n        ...state,\n        showCartDetail: action.data,\n      };\n    case ACTION.UPDATE_ORDER:\n      const { orderMap, user } = state;\n      const { id, increment } = action.data;\n      if (!state.user) {\n        return {\n          ...state,\n          showLogin: true,\n        };\n      }\n      const newOrderMap = { ...orderMap };\n      updateOrderMap(newOrderMap, user, id, increment);\n      return {\n        ...state,\n        orderMap: newOrderMap,\n      };\n    case ACTION.SET_FOCUS_CATEGORY_ID:\n      return {\n        ...state,\n        focusCategoryId: action.data,\n      };\n    default:\n      return state;\n  }\n};\n\nconst [ShareStateProvider, useShareState] = createReducerContext(\n  reducer,\n  initialState\n);\n\nexport { ShareStateProvider, useShareState, ACTION };\n","import React, { useEffect, useRef } from 'react';\nimport person from './person.svg';\nimport { useForm } from '../../../lesson-7/7.0-UseForm';\nimport { useShareState, ACTION } from '../store';\n\nimport './index.scss';\n\nconst Login = () => {\n  const { data, dispatch } = useShareState();\n  const [values, getFieldProps, setFieldsValue] = useForm();\n  const ref = useRef();\n\n  // 自动 focus\n  useEffect(() => {\n    if (data.showLogin) {\n      ref.current && ref.current.focus();\n    }\n  }, [data.showLogin]);\n\n  // 退出登录\n  const onLogout = () => {\n    dispatch({ type: ACTION.SET_USER, data: '' });\n  };\n\n  // 确认登录\n  const onLogin = () => {\n    dispatch({ type: ACTION.SET_USER, data: values.user });\n  };\n\n  // 登录弹框\n  const onToggleLogin = (show = true) => {\n    dispatch({ type: ACTION.TOGGLE_LOGIN, data: show });\n  };\n\n  return (\n    <div className=\"order-login\">\n      <div className=\"order-login-user\">\n        {data.user ? (\n          <>\n            <img src={person} />\n            <h2>{data.user}</h2>\n            <a onClick={onLogout}>退出</a>\n          </>\n        ) : (\n          <a onClick={() => onToggleLogin()}>登录</a>\n        )}\n      </div>\n      {data.showLogin && (\n        <div\n          className=\"order-login-modal\"\n          tabIndex=\"1\"\n          ref={ref}\n          onKeyDown={e => {\n            e.key === 'Escape' && onToggleLogin(false);\n          }}\n        >\n          <div className=\"order-login-modal-content\">\n            <h3>登录</h3>\n            <div className=\"order-login-modal-content-form\">\n              <input\n                {...getFieldProps('user')}\n                onKeyPress={e => e.key === 'Enter' && onLogin()}\n                placeholder=\"请输入用户名\"\n              />\n              {data.loginError && <p>{data.loginError}</p>}\n            </div>\n            <div className=\"order-login-modal-content-control\">\n              <button onClick={() => onToggleLogin(false)}>取消</button>\n              <button onClick={onLogin}>确定</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/order.ef866849.svg\";","import React from 'react';\nimport _ from 'lodash';\nimport { useShareState, ACTION } from '../store';\n\nimport orderImage from './order.svg';\nimport './index.scss';\n\nconst BottomCart = () => {\n  const {\n    data: { showCartDetail, orderMap, foodList },\n    dispatch,\n  } = useShareState();\n\n  const foodMap = _.reduce(\n    foodList,\n    (map, food) => {\n      map[food.id] = food;\n      return map;\n    },\n    {}\n  );\n  let totalMoney = 0;\n  let totalCount = 0;\n\n  const userOrderList = !!foodList.length\n    ? Object.keys(orderMap).map(user => {\n        const userOrder = orderMap[user];\n        let money = 0;\n        const orders = Object.keys(userOrder).map(id => {\n          const food = foodMap[id];\n          const count = userOrder[id];\n          money += food.price * count;\n          totalCount += count;\n          totalMoney += money;\n          return { food, count };\n        });\n        return {\n          money,\n          user,\n          orders,\n        };\n      })\n    : [];\n\n  // console.log(foodMap, orderMap, Object.keys(orderMap));\n\n  return (\n    <div className=\"order-bottom-cart\">\n      {showCartDetail && (\n        <div className=\"order-bottom-cart-detail\">\n          {userOrderList.map(userOrder => {\n            return (\n              <div\n                className=\"order-bottom-cart-detail-item\"\n                key={userOrder.user}\n              >\n                <h4>{userOrder.user}</h4>\n                <b>¥{userOrder.money}</b>\n                <ul>\n                  {userOrder.orders.map(order => {\n                    return (\n                      <li key={order.food.id}>\n                        <span>{order.food.name}</span>\n                        <i></i>\n                        <em>{order.count}</em>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </div>\n            );\n          })}\n          {!userOrderList.length && <p>还没有人点单 :(</p>}\n        </div>\n      )}\n      <div className=\"order-bottom-cart-control\">\n        <i\n          onClick={() =>\n            dispatch({\n              type: ACTION.TOGGLE_CART_DETAIL,\n              data: !showCartDetail,\n            })\n          }\n        >\n          <img src={orderImage} />\n          <em>{totalCount}</em>\n        </i>\n        <b>¥{totalMoney}</b>\n        <button>去结算</button>\n      </div>\n    </div>\n  );\n};\n\nexport default BottomCart;\n","import React from 'react';\nimport { useShareState, ACTION } from '../../store';\n\nimport './index.scss';\n\nconst CategoryList = () => {\n  const {\n    data: { categoryList, focusCategoryId },\n    dispatch,\n  } = useShareState();\n\n  const onScrollToCategory = categoryId => {\n    dispatch({ type: ACTION.SET_FOCUS_CATEGORY_ID, data: categoryId });\n  };\n\n  return (\n    <div className=\"order-category-list\">\n      <ul>\n        {categoryList.map(category => (\n          <li\n            key={category.id}\n            className={focusCategoryId === category.id ? 'active' : ''}\n            onClick={() => onScrollToCategory(category.id)}\n          >\n            {category.name}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default CategoryList;\n","import React, { useRef, useEffect } from 'react';\nimport _ from 'lodash';\nimport { ACTION, useShareState } from '../../store';\n\nimport './index.scss';\n\n// 获取某个菜品的数量\nconst getCountFromOrder = (orderMap, id) => {\n  return Object.keys(orderMap).reduce((sum, user) => {\n    return sum + (orderMap[user][id] || 0);\n  }, 0);\n};\n\nconst FoodList = () => {\n  const {\n    data: { user, foodList, categoryList, orderMap, focusCategoryId },\n    dispatch,\n  } = useShareState();\n\n  const containerRef = useRef();\n  const currentCategoryIdRef = useRef();\n  const foodGroups = _.groupBy(foodList, 'categoryId');\n\n  const onUpdateOrder = (id, increment) => {\n    dispatch({\n      type: ACTION.UPDATE_ORDER,\n      data: {\n        id,\n        increment,\n      },\n    });\n  };\n\n  const onScroll = e => {\n    const containerEle = containerRef.current;\n    if (!containerEle) {\n      return;\n    }\n    // 当前滚动高度\n    const scrollTop = containerEle.scrollTop;\n    const groupEles = containerEle.querySelectorAll('.order-food-list-group');\n    // 获取即将滚动到的分组（向上偏移 20 像素）\n    let groupEleIndex = [...groupEles].findIndex(\n      ele => ele.offsetTop - 20 > scrollTop\n    );\n    if (groupEleIndex > 0) groupEleIndex = groupEleIndex - 1;\n    if (groupEleIndex === -1) groupEleIndex = groupEles.length - 1;\n    const groupEle = groupEles[groupEleIndex];\n    const currentId = Number(groupEle.dataset['categoryId']);\n    currentCategoryIdRef.current = currentId;\n    dispatch({ type: ACTION.SET_FOCUS_CATEGORY_ID, data: currentId });\n  };\n\n  useEffect(() => {\n    !!foodList.length && onScroll();\n  }, [foodList]);\n\n  useEffect(() => {\n    const containerEle = containerRef.current;\n    const currentCategoryId = currentCategoryIdRef.current;\n    if (\n      !containerEle ||\n      !focusCategoryId ||\n      currentCategoryId === focusCategoryId\n    ) {\n      return;\n    }\n    const groupEle = containerEle.querySelector(\n      `.order-food-list-group[data-category-id='${focusCategoryId}']`\n    );\n    groupEle.scrollIntoView();\n  }, [focusCategoryId]);\n\n  return (\n    <div className=\"order-food-list\" onScroll={onScroll} ref={containerRef}>\n      {categoryList.map(category => {\n        const categoryId = category.id;\n        const categoryName = (\n          categoryList.find(item => item.id === categoryId) || {}\n        ).name;\n\n        return (\n          <div\n            key={categoryId}\n            className=\"order-food-list-group\"\n            data-category-id={categoryId}\n          >\n            <h3>{categoryName}</h3>\n            <ul>\n              {(foodGroups[categoryId] || []).map(food => {\n                const count = getCountFromOrder(orderMap, food.id);\n                const selfSelected = !!(orderMap[user] || {})[food.id];\n                return (\n                  <li key={food.id}>\n                    <div className=\"order-food-list-image\">\n                      <img src={food.image} />\n                    </div>\n                    <div className=\"order-food-list-meta\">\n                      <h3>{food.name}</h3>\n                      <em>¥{food.price}</em>\n                    </div>\n                    <div className=\"order-food-list-control\">\n                      {count > 0 && (\n                        <>\n                          <i onClick={() => onUpdateOrder(food.id, false)}>-</i>\n                          <b className={selfSelected ? 'active' : ''}>\n                            {count}\n                          </b>\n                        </>\n                      )}\n                      <i onClick={() => onUpdateOrder(food.id, true)}>+</i>\n                    </div>\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default FoodList;\n","import React, { useEffect, useState } from 'react';\nimport CategoryList from './CategoryList';\nimport FoodList from './FoodList';\nimport { useFetch } from '../../../lesson-7/7.2-UseFetch';\nimport { useShareState, ACTION } from '../store';\n\nconst Foods = () => {\n  const [tick, setTick] = useState(5);\n  const { data: foods, loading } = useFetch(\n    'https://xiaozhu.run/api/foods',\n    []\n  );\n  const { data: orderMap } = useFetch('https://xiaozhu.run/api/orders', [tick]);\n  const { dispatch } = useShareState();\n\n  useEffect(() => {\n    if (foods) {\n      dispatch({\n        type: ACTION.SET_FOOD_LIST,\n        data: foods,\n      });\n    }\n  }, [foods]);\n\n  useEffect(() => {\n    if (orderMap) {\n      dispatch({ type: ACTION.SET_ORDER_MAP, data: orderMap });\n    }\n  }, [orderMap]);\n\n  let timer;\n  useEffect(() => {\n    timer = setTimeout(() => {\n      setTick(tick + 1);\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, [tick]);\n\n  return loading ? (\n    <div style={{ textAlign: 'center' }}>Loading...</div>\n  ) : (\n    <>\n      <CategoryList />\n      <FoodList />\n    </>\n  );\n};\n\nexport default Foods;\n","import React from 'react';\nimport Login from './Login';\nimport BottomCart from './BottomCart';\nimport Foods from './Foods';\nimport { ShareStateProvider } from './store';\n\nimport './index.css';\n\nconst App = () => {\n  return (\n    <div className=\"order\">\n      <ShareStateProvider>\n        <Login />\n        <Foods />\n        <BottomCart />\n      </ShareStateProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\n// lesson 1\nimport Component from './lesson-1/1.0-Component';\nimport Jsx from './lesson-1/1.1-Jsx';\nimport Express from './lesson-1/1.2-Express';\nimport ReactPractice from './lesson-1/1.3-Practice';\n\n// lesson 2\nimport Props from './lesson-2/2.0-Props';\nimport DefaultProps from './lesson-2/2.1-DefaultProps';\nimport State from './lesson-2/2.2-State';\nimport FibonacciPractice from './lesson-2/2.3-FibonacciPractice';\nimport SetState from './lesson-2/2.4-SetState';\nimport StatePractice from './lesson-2/2.5-StatePractice';\nimport Context from './lesson-2/2.6-Context';\nimport Ref from './lesson-2/2.7-Ref';\nimport Event from './lesson-2/2.8-Event';\nimport EventPractice from './lesson-2/2.9-Practice';\n\n// lesson 3\nimport Constructor from './lesson-3/3.0-Constructor';\nimport BindEvent from './lesson-3/3.1-BindEvent';\nimport GetDerivedStateFromProps from './lesson-3/3.2-GetDerivedStateFromProps';\nimport ComponentDidMount from './lesson-3/3.3-ComponentDidMount';\nimport ShouldComponentUpdate from './lesson-3/3.4-ShouldComponentUpdate';\nimport ComponentDidUpdate from './lesson-3/3.5-ComponentDidUpdate';\nimport Form from './lesson-3/3.6-Form';\nimport FormRef from './lesson-3/3.7-FormRef';\nimport Hoc from './lesson-3/3.8-Hoc';\nimport HocPractice from './lesson-3/3.9-HocPractice';\n\n// lesson 4\nimport Lesson4 from './lesson-4';\n\n// lesson 5\nimport Function from './lesson-5/5.0-Function';\nimport UseStateBasic from './lesson-5/5.1-UseStateBasic';\nimport UseEffectBasic from './lesson-5/5.2-UseEffectBasic';\nimport UseEffectTimer from './lesson-5/5.3-UseEffectTimer';\nimport UseLayoutEffect from './lesson-5/5.4-UseLayoutEffect';\nimport UseContextBasic from './lesson-5/5.5-UseContextBasic';\nimport HookRule from './lesson-5/5.6-HookRule';\nimport ClockPractice from './lesson-5/5.7-Practice';\n\n// lesson 6\nimport CustomHook from './lesson-6/6.0-CustomHook';\nimport UseReducerBasic from './lesson-6/6.1-UseReducerBasic';\nimport UseCallback from './lesson-6/6.2-UseCallback';\nimport UseMemo from './lesson-6/6.3-UseMemo';\nimport UseImperativeHandle from './lesson-6/6.4-UseImperativeHandle';\nimport UseEffectAsync from './lesson-6/6.5-UseEffectAsync';\nimport ClockPracticeV2 from './lesson-6/6.6-Practice';\n\n// lesson 7\nimport UseForm from './lesson-7/7.0-UseForm';\nimport UseEffect from './lesson-7/7.1-UseEffect';\nimport UseFetch from './lesson-7/7.2-UseFetch';\nimport UseAsync from './lesson-7/7.3-UseAsync';\nimport UseReducer from './lesson-7/7.4-UseReducer';\nimport UseReducerAndContext from './lesson-7/7.5-UseReducerAndContext';\nimport UseShareState from './lesson-7/7.6-UseShareState';\nimport ClockPracticeV3 from './lesson-7/7.7-Practice';\n\n// lesson 8\nimport Lesson8 from './lesson-8/client';\n\nimport './App.css';\n\nconst pages = [\n  // lesson 1\n  {\n    lesson: '1. React 初探',\n    title: '1.0-Component',\n    Component: Component,\n  },\n  {\n    title: '1.1-Jsx',\n    Component: Jsx,\n  },\n  {\n    title: '1.2-Express',\n    Component: Express,\n  },\n  {\n    title: '1.3-Practice',\n    Component: ReactPractice,\n  },\n  // lesson 2\n  {\n    lesson: '2. React 基础精讲',\n    title: '2.0-Props',\n    Component: Props,\n  },\n  {\n    title: '2.1-DefaultProps',\n    Component: DefaultProps,\n  },\n  {\n    title: '2.2-State',\n    Component: State,\n  },\n  {\n    title: '2.3-FibonacciPractice',\n    Component: FibonacciPractice,\n  },\n  {\n    title: '2.4-SetState',\n    Component: SetState,\n  },\n  {\n    title: '2.5-StatePractice',\n    Component: StatePractice,\n  },\n  {\n    title: '2.6-Context',\n    Component: Context,\n  },\n  {\n    title: '2.7-Ref',\n    Component: Ref,\n  },\n  {\n    title: '2.8-Event',\n    Component: Event,\n  },\n  {\n    title: '2.9-Practice',\n    Component: EventPractice,\n  },\n  // lesson 3\n  {\n    lesson: '3. React 进阶',\n    title: '3.0-Constructor',\n    Component: Constructor,\n  },\n  {\n    title: '3.1-BindEvent',\n    Component: BindEvent,\n  },\n  {\n    title: '3.2-GetDerivedStateFromProps',\n    Component: GetDerivedStateFromProps,\n  },\n  {\n    title: '3.3-ComponentDidMount',\n    Component: ComponentDidMount,\n  },\n  {\n    title: '3.4-ShouldComponentUpdate',\n    Component: ShouldComponentUpdate,\n  },\n  {\n    title: '3.5-ComponentDidUpdate',\n    Component: ComponentDidUpdate,\n  },\n  {\n    title: '3.6-Form',\n    Component: Form,\n  },\n  {\n    title: '3.7-FormRef',\n    Component: FormRef,\n  },\n  {\n    title: '3.8-Hoc',\n    Component: Hoc,\n  },\n  {\n    title: '3.9-HocPractice',\n    Component: HocPractice,\n  },\n  // lesson 4\n  {\n    lesson: '4. React 实战',\n    title: '4.0-计算器',\n    Component: Lesson4,\n  },\n  // lesson 5\n  {\n    lesson: '5. React Hook 基础',\n    title: '5.0-Function',\n    Component: Function,\n  },\n  {\n    title: '5.1-UseStateBasic',\n    Component: UseStateBasic,\n  },\n  {\n    title: '5.2-UseEffectBasic',\n    Component: UseEffectBasic,\n  },\n  {\n    title: '5.3-UseEffectTimer',\n    Component: UseEffectTimer,\n  },\n  {\n    title: '5.4-UseLayoutEffect',\n    Component: UseLayoutEffect,\n  },\n  {\n    title: '5.5-UseContextBasic',\n    Component: UseContextBasic,\n  },\n  {\n    title: '5.6-HookRule',\n    Component: HookRule,\n  },\n  {\n    title: '5.7-Practice',\n    Component: ClockPractice,\n  },\n  // lesson 6\n  {\n    lesson: '6. React Hook 进阶',\n    title: '6.0-CustomHook',\n    Component: CustomHook,\n  },\n  {\n    title: '6.1-UseReducerBasic',\n    Component: UseReducerBasic,\n  },\n  {\n    title: '6.2-UseCallback',\n    Component: UseCallback,\n  },\n  {\n    title: '6.3-UseMemo',\n    Component: UseMemo,\n  },\n  {\n    title: '6.4-UseImperativeHandle',\n    Component: UseImperativeHandle,\n  },\n  {\n    title: '6.5-UseEffectAsync',\n    Component: UseEffectAsync,\n  },\n  {\n    title: '6.6-Practice',\n    Component: ClockPracticeV2,\n  },\n  // lesson 7\n  {\n    lesson: '7. React Hook 应用场景',\n    title: '7.0-UseForm',\n    Component: UseForm,\n  },\n  {\n    title: '7.1-UseEffect',\n    Component: UseEffect,\n  },\n  {\n    title: '7.2-UseFetch',\n    Component: UseFetch,\n  },\n  {\n    title: '7.3-UseAsync',\n    Component: UseAsync,\n  },\n  {\n    title: '7.4-UseReducer',\n    Component: UseReducer,\n  },\n  {\n    title: '7.5-UseReducerAndContext',\n    Component: UseReducerAndContext,\n  },\n  {\n    title: '7.6-UseShareState',\n    Component: UseShareState,\n  },\n  {\n    title: '7.7-Practice',\n    Component: ClockPracticeV3,\n  },\n  // lesson 8\n  {\n    lesson: '8. React Hook 实战',\n    title: '8.0-多人点餐',\n    Component: Lesson8,\n  },\n];\n\nconst App = () => {\n  const [pageIndex, setPageIndex] = useState(0);\n  const Component = pages[pageIndex].Component;\n  const onSetPage = index => {\n    setPageIndex(index);\n    window.location.hash = index;\n  };\n\n  useEffect(() => {\n    const index = Number(window.location.hash.replace('#', '')) || 0;\n    onSetPage(index);\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <ul className=\"menu\">\n        {pages.map((page, index) => (\n          <li className={index === pageIndex ? 'current' : ''} key={index}>\n            {page.lesson && <h3>{page.lesson}</h3>}\n            <a onClick={() => onSetPage(index)}>{page.title}</a>\n          </li>\n        ))}\n      </ul>\n      <div className=\"content\">\n        <Component />\n      </div>\n    </div>\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}