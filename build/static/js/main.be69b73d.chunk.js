(this["webpackJsonpreact-course-demo"]=this["webpackJsonpreact-course-demo"]||[]).push([[0],{33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(1),a=n.n(r),i=n(28),s=n.n(i),o=n(4),u=n(5),j=n(7),l=n(6),b=(n(33),n(0)),d=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){alert("\u8fd9\u662fheader")},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{id:"header",children:Object(b.jsx)("p",{onClick:this.handleClick,children:"\u8fd9\u662f\u4e00\u4e2aheader\u7ec4\u4ef6"})})}}]),n}(a.a.Component),O=d,h=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"header"}),Object(b.jsx)("div",{children:"content"})]})}}]),n}(a.a.Component),f=h,m=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:["2 * 3 = ",6]})}}]),n}(a.a.Component),p=m,x=(n(35),function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:[2,4,6,8,10].map((function(e,t){var n=t%2?"even-style":"";return Object(b.jsx)("p",{className:"line ".concat(n),children:e})}))})}}]),n}(a.a.Component)),v=x,g=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:this.props.title})}}]),n}(a.a.Component),C=function(){return Object(b.jsx)(g,{title:"\u6211\u662f\u6807\u9898"})},k=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:this.props.title})}}]),n}(a.a.Component);k.defaultProps={title:"\u9ed8\u8ba4\u6807\u9898"};var y=function(){return Object(b.jsx)(k,{})},S=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={times:0,updated:!1},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("p",{children:this.state.times})}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.setState({times:e.state.times+1})}),1e3)}}]),n}(a.a.Component),N=S,w=n(12),F=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={a:0,b:1,list:[0,1]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){var t=e.state.b,n=e.state.a+e.state.b;e.setState({a:t,b:n,list:[].concat(Object(w.a)(e.state.list),[n])})}),1e3)}},{key:"render",value:function(){return Object(b.jsx)("p",{children:this.state.list.join(", ")})}}]),n}(a.a.Component),L=F,E=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={number:0},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("p",{children:this.state.number})}},{key:"componentDidMount",value:function(){var e=this;console.log("action1",this.state.number),this.setState({number:this.state.number+1},(function(){console.log("action3",e.state.number)})),console.log("action2",this.state.number)}}]),n}(a.a.Component),R=E,M=(n(36),1),D=2,U=3,I=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={type:U},e.handleChange=function(t){e.setState({type:t})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.type;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return e.handleChange(M)},children:"\u5947\u6570\u884c\u52a0\u6df1"}),Object(b.jsx)("button",{onClick:function(){return e.handleChange(D)},children:"\u5076\u6570\u884c\u52a0\u6df1"}),Object(b.jsx)("button",{onClick:function(){return e.handleChange(U)},children:"\u6b63\u5e38\u5c55\u793a"}),[2,4,6,8,10].map((function(e,n){var c="";return t===M?c=n%2?"":"deep-style":t===D&&(c=n%2?"deep-style":""),Object(b.jsx)("p",{className:"line ".concat(c),children:e})}))]})}}]),n}(a.a.Component),A=I,P=a.a.createContext(),H=P.Provider,T=P.Consumer,z=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h3",{children:this.props.title})})}}]),n}(a.a.Component),B=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)(H,{value:{title:"Hello Context"},children:Object(b.jsx)(T,{children:function(e){return Object(b.jsx)(z,{title:e.title})}})})}}]),n}(a.a.Component),V=B,J=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)("input",{ref:function(t){e.myRef=t}})}},{key:"componentDidMount",value:function(){this.myRef.focus()}}]),n}(a.a.Component),G=J,Z=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).handleClick=function(e){console.log("\u70b9\u51fb\u4e8b\u4ef6\u5bf9\u8c61",e)},c.handleFocus=function(){c.setState({value:"\u805a\u7126\u521d\u59cb\u503c"})},c.handleChange=function(e){console.log(e),c.setState({value:e.target.value})},c.state={value:""},c}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{onClick:this.handleClick,children:this.state.value}),Object(b.jsx)("input",{value:this.state.value,onFocus:this.handleFocus,onChange:this.handleChange})]})}}]),n}(a.a.Component),W=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).handleAdd=function(){var e=c.state.list;e.push("line"),c.setState({open:!0,list:e})},c.handleMinus=function(){var e=c.state.list;e.pop(),c.setState({open:!0,list:e})},c.handleToggle=function(e){c.setState({open:!e})},c.state={open:!1,list:[]},c}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.open,c=t.list;return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:this.handleAdd,children:"\u52a0\u4e00\u884c"}),Object(b.jsx)("button",{onClick:this.handleMinus,children:"\u51cf\u4e00\u884c"}),Object(b.jsx)("button",{onClick:function(){return e.handleToggle(n)},children:n?"\u6536\u8d77":"\u5c55\u5f00"}),Object(b.jsx)("ul",{children:n?c.map((function(e){return Object(b.jsx)("li",{children:e})})):null})]})}}]),n}(a.a.Component),q=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),c=t.call(this,e),console.log(c.props),c}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("p",{children:"Constructor"})}}]),n}(a.a.Component),K=n(16),X=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={counter:0},c.handleClick=c.handleClick.bind(Object(K.a)(c)),c}return Object(u.a)(n,[{key:"handleClick",value:function(){console.log(this.state)}},{key:"render",value:function(){return Object(b.jsx)("p",{onClick:this.handleClick,children:"Constructor"})}}]),n}(a.a.Component),Y=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={type:1},c}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("p",{children:"GetDerivedStateFromProps"})}}]),n}(a.a.Component);Y.getDerivedStateFromProps=function(e,t){return null};var _=Y,$=n(9),Q=n.n($),ee=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={username:""},c}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;Q.a.get("https://xiaozhu.run/api/user/9527").then((function(t){e.setState({username:t.data.data.username})}))}},{key:"render",value:function(){return Object(b.jsxs)("p",{children:["Username: ",this.state.username]})}}]),n}(a.a.Component),te=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={text:"text"},c}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.text!==t.text}},{key:"componentDidMount",value:function(){console.log("Component componentDidMount"),this.setState({text:"mounted"})}},{key:"render",value:function(){return console.log("Component Render",this.state.text),Object(b.jsxs)("p",{children:["count: ",this.props.count," ",Object(b.jsx)("br",{}),"text: ",this.state.text]})}}]),n}(a.a.Component),ne=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={count:0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.setState({count:e.state.count+1})}),1e3)}},{key:"render",value:function(){return Object(b.jsx)(te,{count:this.state.count})}}]),n}(a.a.Component),ce=ne,re=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={username:""},c}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;Q.a.get("https://xiaozhu.run/api/user/".concat(this.props.id)).then((function(t){e.setState({username:t.data.data.username})}))}},{key:"componentDidUpdate",value:function(e){console.log(e)}},{key:"render",value:function(){return Object(b.jsxs)("p",{children:[this.props.id," Username: ",this.state.username]})}}]),n}(a.a.Component),ae=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={id:9527},e.onChangeUser=function(){e.setState({id:e.state.id+1})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{onClick:this.onChangeUser,children:["Change User ",this.state.id]}),Object(b.jsx)(re,{id:this.state.id})]})}}]),n}(a.a.Component),ie=ae,se=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).handleChange=function(e){c.setState({value:e.target.value})},c.handleSubmit=function(e){alert("\u63d0\u4ea4\u7684\u540d\u5b57: "+c.state.value),e.preventDefault()},c.state={value:""},c}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsxs)("label",{children:["\u540d\u5b57\uff1a",Object(b.jsx)("input",{type:"text",value:this.state.value,onChange:this.handleChange})]}),Object(b.jsx)("input",{type:"submit",value:"\u63d0\u4ea4"})]})}}]),n}(a.a.Component),oe=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).handleSubmit=function(e){console.log("\u63d0\u4ea4\u7684\u540d\u5b57: "+c.inputRef.current.value),e.preventDefault()},c.inputRef=a.a.createRef(),c}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsxs)("label",{children:["\u540d\u5b57\uff1a",Object(b.jsx)("input",{type:"text",ref:this.inputRef})]}),Object(b.jsx)("input",{type:"submit",value:"\u63d0\u4ea4"})]})}}]),n}(a.a.Component),ue=n(3);var je,le=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:"\u5185\u5bb91"})}}]),n}(a.a.Component),be=(je=le,function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"demo-header",children:"\u6211\u662f\u6807\u9898"}),Object(b.jsx)(je,Object(ue.a)({},this.props))]})}}]),n}(a.a.Component));var de=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:["\u6d4f\u89c8\u5668\u5bbd\u5ea6\uff1a",this.props.windowWidth]})}}]),n}(a.a.Component),Oe=function(e){return function(t){Object(j.a)(c,t);var n=Object(l.a)(c);function c(e){var t;return Object(o.a)(this,c),(t=n.call(this,e)).handleResize=function(){t.setState({windowWidth:window.innerWidth})},t.state={windowWidth:window.innerWidth},t}return Object(u.a)(c,[{key:"render",value:function(){return Object(b.jsx)(e,Object(ue.a)(Object(ue.a)({},this.props),this.state))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}}]),c}(a.a.Component)}(de),he=(n(56),["+","-","\xd7","\xf7","%","="]),fe=function(e){Object(j.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={input:"0",lastInput:"0",sign:"=",isLastSignInput:!1},e.getResult=function(e,t,n){var c=0;switch(n){case"+":c=e+t;break;case"-":c=e-t;break;case"\xd7":c=e*t;break;case"\xf7":c=e/t}return String(c)},e.compute=function(t){var n=e.state,c=n.lastInput,r=n.input,a=n.sign;if("="===t){if("="!==a){var i=e.getResult(Number(c),Number(r),a);e.setState({input:i,sign:t})}}else if("%"===t){var s=String(Number(r)/100);e.setState({input:s})}else e.setState({sign:t,lastInput:r,isLastSignInput:!0})},e.handleClick=function(t){var n=e.state,c=n.input,r=n.isLastSignInput,a=t.target.innerText;if("C"!==a)if(he.includes(a))e.compute(a);else if("+/-"===a){var i=-Number(c);e.setState({input:i})}else if("."===a)"0"===c||r?e.setState({input:"0.",isLastSignInput:!1}):-1===c.indexOf(".")&&e.setState({input:c+"."});else{var s="0"===c||r?""+a:c+a;e.setState({input:s,isLastSignInput:!1})}else e.setState({input:"0",lastInput:"0",sign:"="})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.input;return Object(b.jsxs)("div",{className:"caculator",children:[Object(b.jsx)("div",{className:"result-table",children:e}),Object(b.jsxs)("div",{className:"operation-table",onClick:this.handleClick,children:[Object(b.jsx)("a",{className:"block block--ctrl",children:"C"}),Object(b.jsx)("a",{className:"block block--ctrl",children:"+/-"}),Object(b.jsx)("a",{className:"block block--ctrl",children:"%"}),Object(b.jsx)("a",{className:"block block--exp",children:"\xf7"}),Object(b.jsx)("a",{className:"block block--num",children:"7"}),Object(b.jsx)("a",{className:"block block--num",children:"8"}),Object(b.jsx)("a",{className:"block block--num",children:"9"}),Object(b.jsx)("a",{className:"block block--exp",children:"\xd7"}),Object(b.jsx)("a",{className:"block block--num",children:"4"}),Object(b.jsx)("a",{className:"block block--num",children:"5"}),Object(b.jsx)("a",{className:"block block--num",children:"6"}),Object(b.jsx)("a",{className:"block block--exp",children:"-"}),Object(b.jsx)("a",{className:"block block--num",children:"1"}),Object(b.jsx)("a",{className:"block block--num",children:"2"}),Object(b.jsx)("a",{className:"block block--num",children:"3"}),Object(b.jsx)("a",{className:"block block--exp",children:"+"}),Object(b.jsx)("a",{className:"block block--num block--double",children:"0"}),Object(b.jsx)("a",{className:"block block--num",children:"."}),Object(b.jsx)("a",{className:"block block--exp",children:"="})]})]})}}]),n}(a.a.Component),me=fe;var pe=function(){return Object(b.jsx)(me,{})};function xe(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["Count: ",e.count]}),Object(b.jsx)("button",{onClick:e.addCount,children:"Add"})]})}xe.defaultProps={count:10};var ve=function(){return Object(b.jsx)(xe,{})};var ge=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["You clicked ",n," times"]}),Object(b.jsx)("button",{onClick:function(){return a(n+1)},children:"Click me"})]})},Ce=function(e){return Object(r.useEffect)((function(){return console.log("Update"),function(){return console.log("Destroy")}}),[e.count]),Object(b.jsxs)("div",{children:["Effect Hook ",e.count]})},ke=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),s=Object(c.a)(i,2),o=s[0],u=s[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return u(!o)},children:o?"Initialize":"Destroy"}),Object(b.jsx)("button",{onClick:function(){return a(n+1)},children:"Add"}),o?null:Object(b.jsx)(Ce,{count:n})]})},ye=function(e){var t=0;return Object(r.useEffect)((function(){return console.log("Update"),t=setTimeout(e.updateCount,1e3),function(){console.log("Destroy"),clearTimeout(t)}}),[e.count,e.updateCount]),Object(b.jsxs)("div",{children:["Effect Hook ",e.count]})},Se=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),s=Object(c.a)(i,2),o=s[0],u=s[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return u(!o)},children:o?"Initialize":"Destroy"}),Object(b.jsx)("button",{onClick:function(){return a(n+1)},children:"Add"}),o?null:Object(b.jsx)(ye,{count:n,updateCount:function(){return a(n+1)}})]})},Ne=function(e){return{background:e,color:"#fff",fontWeight:"bold",display:"block",textAlign:"center",position:"relative",lineHeight:"140px",width:140,height:140,transition:"all 1s"}},we=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null);return Object(r.useEffect)((function(){e.current.style.transform="translateX(300px)"}),[]),Object(r.useLayoutEffect)((function(){t.current.style.transform="translateX(300px)"}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:Ne("blue"),ref:e,children:"useEffect"}),Object(b.jsx)("div",{style:Ne("red"),ref:t,children:"useLayoutEffect"})]})},Fe=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return a(n+1)},children:"Refresh"}),Object(b.jsx)(we,{},n)]})},Le={},Ee=a.a.createContext(Le);function Re(e){var t=Object(r.useContext)(Ee);return Object(b.jsx)("div",{children:t.name?Object(b.jsx)("button",{onClick:e.onLogout,children:"Logout"}):Object(b.jsx)("button",{onClick:e.onLogin,children:"Login"})})}function Me(){var e=Object(r.useContext)(Ee);return Object(b.jsx)("div",{children:e.name?"Hi: ".concat(e.name):"Your are not login"})}var De=function(){var e=Object(r.useState)(Le),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(Ee.Provider,{value:n,children:[Object(b.jsx)(Re,{onLogin:function(){a({name:"Mike"})},onLogout:function(){a(Le)}}),Object(b.jsx)(Me,{})]})};var Ue=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)("Less than 5"),s=Object(c.a)(i,2),o=s[0],u=s[1];return n>5&&Object(r.useEffect)((function(){u("Greate than 5 ")})),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["Current Count: ",n]}),Object(b.jsxs)("p",{children:["Range: ",o]}),Object(b.jsx)("button",{onClick:function(){return a(n+1)},children:"ADD"})]})},Ie=(n(57),a.a.createContext({})),Ae=function(e){return e.toString().padStart(2,"0")},Pe=function(){var e=Object(r.useContext)(Ie),t=e.time,n=e.message,a=Object(r.useState)(0),i=Object(c.a)(a,2),s=i[0],o=i[1],u=0;Object(r.useEffect)((function(){return u=setTimeout((function(){o(s+1)}),1e3),function(){clearTimeout(u)}}),[s]);var j=new Date,l=j.getHours(),d=j.getMinutes(),O=j.getSeconds(),h=function(e,t,n){var c=n/60*360,r=t/60*360+c/60,a=e/12*360+r/12;return{second:{transform:"translate(-50%, 0) rotate(".concat(c,"deg)")},minute:{transform:"translate(-50%, 0) rotate(".concat(r,"deg)")},hour:{transform:"translate(-50%, 0) rotate(".concat(a,"deg)")}}}(l,d,O),f="".concat(Ae(l),":").concat(Ae(d),":").concat(Ae(O));return Object(r.useEffect)((function(){t===f&&console.log(n)})),Object(b.jsxs)("div",{className:"clock",children:[Object(b.jsxs)("div",{className:"background",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsx)("div",{className:"point"}),Object(b.jsx)("div",{className:"hour",style:h.hour}),Object(b.jsx)("div",{className:"minute",style:h.minute}),Object(b.jsx)("div",{className:"second",style:h.second}),Object(b.jsx)("div",{className:"time",children:f})]})},He=function(){return Object(b.jsx)(Ie.Provider,{value:{time:"19:09:16",message:"\u8d77\u5e8a\u4e86"},children:Object(b.jsx)(Pe,{})})};var Te=function(){var e=function(e){var t=Object(r.useState)(e),n=Object(c.a)(t,2);return[n[0],n[1]]}(0),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["Count: ",n]}),Object(b.jsx)("button",{onClick:function(){return a(n+1)},children:"ADD"})]})},ze={count:0};function Be(e,t){switch(t.type){case"increment":return{count:e.count+1};case"decrement":return{count:e.count-1};default:throw new Error("Invalid dispatch type")}}var Ve=function(){var e=Object(r.useReducer)(Be,ze),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["Count: ",n.count]}),Object(b.jsx)("button",{onClick:function(){return a({type:"decrement"})},children:"-"}),Object(b.jsx)("button",{onClick:function(){return a({type:"increment"})},children:"+"})]})},Je=function(e){return console.log("User Component Rendering"),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:e.onLogin,children:"Login"})})},Ge=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(1),s=Object(c.a)(i,2),o=s[0],u=s[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(Je,{onLogin:function(){a("Zhangsan")}}),Object(b.jsx)("h3",{children:n}),Object(b.jsx)("button",{onClick:function(){return u(o+1)},children:"Add"}),Object(b.jsx)("span",{children:o})]})},Ze=function(e){return console.log("Content is rendered"),Object(b.jsxs)("div",{children:["Large Component ",e.visible?"show":"hide"]})},We=function(){var e,t=Object(r.useState)(1),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(!1),o=Object(c.a)(s,2),u=o[0],j=o[1],l=(e=a,console.log("pow is called"),e*e);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["The compute result of ",a," is",Object(b.jsxs)("b",{style:{color:"red"},children:[" ",l]})]}),Object(b.jsx)("button",{onClick:function(){return i(a+1)},children:"Add"}),Object(b.jsx)("button",{onClick:function(){return j(!u)},children:"Toggle"}),Object(b.jsx)(Ze,{visible:u})]})},qe=function(e,t){var n=Object(r.useState)(e.initialCount),a=Object(c.a)(n,2),i=a[0],s=a[1];return Object(r.useImperativeHandle)(t,(function(){return{reset:function(){s(e.initialCount)}}}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["count: ",i]}),Object(b.jsx)("button",{onClick:function(){return s(i+1)},children:"Add Count State"})]})},Ke=Object(r.forwardRef)(qe),Xe=function(){var e=Object(r.useRef)(null);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Ke,{ref:e,initialCount:10}),Object(b.jsx)("button",{onClick:function(){return e.current.reset()},children:"Reset"})]})},Ye=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["Count: ",n]}),Object(b.jsx)("button",{onClick:function(){return a(n+1)},children:"Add"}),Object(b.jsx)("button",{onClick:function(){setTimeout((function(){alert("Count: "+n)}),3e3)},children:"Show count after 3 seconds"})]})},_e=(n(58),a.a.createContext({})),$e=function(e){return e.toString().padStart(2,"0")},Qe=function(e,t){var n=Object(r.useState)(!1),a=Object(c.a)(n,2),i=a[0],s=a[1],o=Object(r.useContext)(_e),u=o.time,j=o.message,l=function(e){var t=Object(r.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1],s=0;return Object(r.useEffect)((function(){if(!e)return s=setTimeout((function(){i(a+1)}),1e3),function(){clearTimeout(s)}}),[a,e]),a}(i),d=function(){var e=new Date;return[e.getHours(),e.getMinutes(),e.getSeconds()]}(),O=Object(c.a)(d,3),h=O[0],f=O[1],m=O[2],p=function(e,t,n){var c=n/60*360,r=t/60*360+c/60,a=e/12*360+r/12;return{second:{transform:"translate(-50%, 0) rotate(".concat(c,"deg)")},minute:{transform:"translate(-50%, 0) rotate(".concat(r,"deg)")},hour:{transform:"translate(-50%, 0) rotate(".concat(a,"deg)")}}}(h,f,m),x="".concat($e(h),":").concat($e(f),":").concat($e(m));return Object(r.useImperativeHandle)(t,(function(){return{toggle:function(){return s(!i),!i}}}),[i]),Object(r.useEffect)((function(){u===x&&console.log(j),e.onChange&&e.onChange(x)}),[l]),Object(r.useEffect)((function(){console.log("render",l)})),Object(b.jsxs)("div",{className:"clock",children:[Object(b.jsxs)("div",{className:"background",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsx)("div",{className:"point"}),Object(b.jsx)("div",{className:"hour",style:p.hour}),Object(b.jsx)("div",{className:"minute",style:p.minute}),Object(b.jsx)("div",{className:"second",style:p.second})]})},et=a.a.memo(Object(r.forwardRef)(Qe)),tt=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)(!1),o=Object(c.a)(s,2),u=o[0],j=o[1],l=Object(r.useRef)(),d=Object(r.useCallback)((function(e){i(e)}),[]),O=a.a.useMemo((function(){return{time:"19:09:16",message:"\u8d77\u5e8a\u4e86"}}),[]);return Object(b.jsxs)(_e.Provider,{value:O,children:[Object(b.jsx)("button",{onClick:function(){var e=l.current.toggle();j(e)},children:u?"\u6062\u590d":"\u6682\u505c"}),Object(b.jsx)(et,{onChange:d,ref:l}),Object(b.jsx)("div",{className:"parent-time",children:n})]})},nt=n(17),ct=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useState)({}),a=Object(c.a)(n,2),i=a[0],s=a[1];return Object(b.jsxs)("form",{children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Name: "}),Object(b.jsx)("input",{type:"text",ref:e})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Phone: "}),Object(b.jsx)("input",{type:"text",ref:t})]}),Object(b.jsx)("button",{onClick:function(){var n=e.current.value,c=t.current.value;s({name:n,phone:c})},children:"Get Values"}),Object(b.jsxs)("p",{children:["Form Values: ",JSON.stringify(i)]})]})},rt=function(){var e=Object(r.useState)(),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(),s=Object(c.a)(i,2),o=s[0],u=s[1];return Object(b.jsxs)("form",{children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Name: "}),Object(b.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},value:n||""})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Phone: "}),Object(b.jsx)("input",{type:"text",onChange:function(e){return u(e.target.value)},value:o||""})]}),Object(b.jsxs)("p",{children:["Form Values: ",JSON.stringify({name:n,phone:o})]})]})},at=function(e,t){return Object(ue.a)(Object(ue.a)({},e),t)},it=function(){var e=Object(r.useReducer)(at,{}),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("form",{children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Name: "}),Object(b.jsx)("input",{type:"text",onChange:function(e){return a({name:e.target.value})},value:n.name||""})]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Phone: "}),Object(b.jsx)("input",{type:"text",onChange:function(e){return a({phone:e.target.value})},value:n.phone||""})]}),Object(b.jsxs)("p",{children:["Form Values: ",JSON.stringify(n)]})]})},st=function(){var e=Object(r.useReducer)((function(e,t){return Object(ue.a)(Object(ue.a)({},e),t)}),{}),t=Object(c.a)(e,2),n=t[0],a=t[1];return[n,function(e,t){return{type:"input",value:n[e]||"",onChange:function(n){a(Object(nt.a)({},e,n.target.value)),setTimeout((function(){t&&t.onChange&&t.onChange()}))}}},function(e){return a(e)}]},ot=function(){var e=st(),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(b.jsxs)("form",{children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Name: "}),Object(b.jsx)("input",Object(ue.a)({},r("name")))]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("label",{children:"Phone: "}),Object(b.jsx)("input",Object(ue.a)({},r("phone")))]}),Object(b.jsxs)("p",{children:["Form Values: ",JSON.stringify(n)]})]})},ut=function(){return Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("h3",{children:"V1 \u975e\u53d7\u63a7\u8868\u5355"}),Object(b.jsx)(ct,{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("h3",{children:"V2 useState \u53d7\u63a7\u8868\u5355"}),Object(b.jsx)(rt,{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("h3",{children:"V3 useReducer \u7edf\u4e00\u7ba1\u7406"}),Object(b.jsx)(it,{})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("h3",{children:"V4 useForm \u81ea\u5b9a\u4e49 Hook"}),Object(b.jsx)(ot,{})]})]})},jt=n(8),lt=n.n(jt),bt=n(11),dt=function(e){var t=e.id,n=Object(r.useState)({}),a=Object(c.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)(!0),u=Object(c.a)(o,2),j=u[0],l=u[1],d=Object(r.useState)(null),O=Object(c.a)(d,2),h=O[0],f=O[1];return Object(r.useEffect)(Object(bt.a)(lt.a.mark((function e(){var n;return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Q.a.get("https://xiaozhu.run/api/user/".concat(t));case 3:n=e.sent,l(!1),200===n.status&&n.data?s(n.data.data||{}):f({msg:"\u8bf7\u6c42\u5931\u8d25"});case 6:case"end":return e.stop()}}),e)}))),[t]),h?Object(b.jsx)("span",{children:h.msg}):j?Object(b.jsx)("div",{children:"Loading..."}):Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Email: ",i.email]}),Object(b.jsxs)("li",{children:["Name: ",i.username]})]})},Ot=function(){var e=Object(r.useState)(9527),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{onClick:function(){return a(n+1)},children:["GetUser ",n]}),Object(b.jsx)(dt,{id:n})]})},ht=function(e,t){var n=Object(r.useState)(),a=Object(c.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)(!0),u=Object(c.a)(o,2),j=u[0],l=u[1],b=Object(r.useState)(null),d=Object(c.a)(b,2),O=d[0],h=d[1];return Object(r.useEffect)(Object(bt.a)(lt.a.mark((function t(){var n;return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,Q.a.get(e);case 3:n=t.sent,l(!1),200===n.status&&n.data?s(n.data.data||{}):h({msg:"\u8bf7\u6c42\u5931\u8d25"});case 6:case"end":return t.stop()}}),t)}))),t),{data:i,loading:j,error:O}},ft=function(e){var t=e.id,n=ht("https://xiaozhu.run/api/user/".concat(t),[t]),c=n.data,r=void 0===c?{}:c,a=n.loading,i=n.error;return i?Object(b.jsx)("span",{children:i.msg}):a?Object(b.jsx)("div",{children:"Loading..."}):Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Email: ",r.email]}),Object(b.jsxs)("li",{children:["Name: ",r.username]})]})},mt=function(){var e=Object(r.useState)(9527),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{onClick:function(){return a(n+1)},children:["GetUser ",n]}),Object(b.jsx)(ft,{id:n})]})},pt=function(e,t,n){var a=Object(r.useState)(),i=Object(c.a)(a,2),s=i[0],o=i[1],u=Object(r.useState)(!0),j=Object(c.a)(u,2),l=j[0],b=j[1],d=Object(r.useState)(null),O=Object(c.a)(d,2),h=O[0],f=O[1];return Object(r.useEffect)(Object(bt.a)(lt.a.mark((function t(){var n;return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.prev=1,t.next=4,e();case 4:n=t.sent,o(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),f(h);case 11:return b(!1),t.abrupt("return",(function(){return f(null)}));case 13:case"end":return t.stop()}}),t,null,[[1,8]])}))),t),{data:s,loading:l,error:h}},xt=function(){var e=Object(bt.a)(lt.a.mark((function e(t){var n;return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("https://xiaozhu.run/api/user/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=function(e){return new Promise((function(t){setTimeout((function(){return t()}),e)}))},gt=function(e){var t=e.id,n=pt(Object(bt.a)(lt.a.mark((function e(){return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(1e3);case 2:return e.next=4,xt(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),[t]),c=n.data,r=void 0===c?{}:c;return n.loading?Object(b.jsx)("div",{children:"Loading..."}):Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Email: ",r.email]}),Object(b.jsxs)("li",{children:["Name: ",r.username]})]})},Ct=function(){var e=Object(r.useState)(9527),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{onClick:function(){return a(n+1)},children:["GetUser ",n]}),Object(b.jsx)(gt,{id:n})]})},kt={user:{id:1,name:"Lisi"},friends:["LiLei","HanMeiMei"]},yt=function(e,t){switch(t.type){case"addFriends":return Object(ue.a)(Object(ue.a)({},e),{},{friends:[].concat(Object(w.a)(e.friends),[t.name])});case"modifyName":return Object(ue.a)(Object(ue.a)({},e),{},{user:Object(ue.a)(Object(ue.a)({},e.user),{},{name:t.name})})}},St=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["My name is: ",e.user.name]}),Object(b.jsx)("button",{onClick:function(){e.dispatch({type:"modifyName",name:"ZhangSan"})},children:"Modify Name"})]})},Nt=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["My Friends: ",e.friends.join(", ")," "]}),Object(b.jsx)("button",{onClick:function(){e.dispatch({type:"addFriends",name:"Zhangsan"})},children:"Add Friends"})]})},wt=function(){var e=Object(r.useReducer)(yt,kt),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(St,{user:n.user,dispatch:a}),Object(b.jsx)(Nt,{friends:n.friends,dispatch:a}),Object(b.jsxs)("p",{children:["Store: ",JSON.stringify(n)]})]})},Ft={user:{id:1,name:"Lisi"},friends:["LiLei","HanMeiMei"]},Lt=a.a.createContext(Ft),Et=function(e,t){switch(t.type){case"addFriends":return Object(ue.a)(Object(ue.a)({},e),{},{friends:[].concat(Object(w.a)(e.friends),[t.name])});case"modifyName":return Object(ue.a)(Object(ue.a)({},e),{},{user:Object(ue.a)(Object(ue.a)({},e.user),{},{name:t.name})})}},Rt=function(){var e=Object(r.useContext)(Lt),t=e.store,n=e.dispatch;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["My name is: ",t.user.name]}),Object(b.jsx)("button",{onClick:function(){return n({type:"modifyName",name:"Zhangsan"})},children:"Modify Name"})]})},Mt=function(){var e=Object(r.useContext)(Lt),t=e.store,n=e.dispatch;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["My Friends: ",t.friends.join(", ")," "]}),Object(b.jsx)("button",{onClick:function(){return n({type:"addFriends",name:"Zhangsan"})},children:"Add Friends"})]})},Dt=function(e,t){var n=a.a.createContext(t);return[function(a){var i=Object(r.useReducer)(e,t),s=Object(c.a)(i,2),o=s[0],u=s[1];return Object(b.jsx)(n.Provider,{value:{store:o,dispatch:u},children:a.children})},function(e){var t=Object(r.useContext)(n),c=t.store,a=t.dispatch;return{data:e?e(c):c,dispatch:a}}]},Ut=Dt((function(e,t){switch(t.type){case"addFriends":return Object(ue.a)(Object(ue.a)({},e),{},{friends:[].concat(Object(w.a)(e.friends),[t.name])});case"modifyName":return Object(ue.a)(Object(ue.a)({},e),{},{user:Object(ue.a)(Object(ue.a)({},e.user),{},{name:t.name})})}}),{user:{id:1,name:"Lisi"},friends:["LiLei","HanMeiMei"]}),It=Object(c.a)(Ut,2),At=It[0],Pt=It[1],Ht=function(){var e=Pt((function(e){return e.user})),t=e.data,n=e.dispatch;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["My name is: ",t.name]}),Object(b.jsx)("button",{onClick:function(){return n({type:"modifyName",name:"Zhangsan"})},children:"Modify Name"})]})},Tt=function(){var e=Pt((function(e){return e.friends})),t=e.data,n=e.dispatch;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["My Friends: ",t.join(", ")," "]}),Object(b.jsx)("button",{onClick:function(){return n({type:"addFriends",name:"Zhangsan"})},children:"Add Friends"})]})},zt=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(At,{children:[Object(b.jsx)(Ht,{}),Object(b.jsx)(Tt,{})]})})},Bt=(n(60),a.a.createContext({})),Vt=function(){var e=Object(bt.a)(lt.a.mark((function e(){var t;return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("https://xiaozhu.run/api/current-time");case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(e,t,n){return[e,t,n].map((function(e){return e.toString().padStart(2,"0")})).join(":")},Gt=function(e,t){var n=Object(r.useState)(!1),a=Object(c.a)(n,2),i=a[0],s=a[1],o=Object(r.useContext)(Bt),u=o.time,j=o.message,l=function(e){var t=Object(r.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1],s=0;return Object(r.useEffect)((function(){if(!e)return s=setTimeout((function(){i(a+1)}),1e3),function(){clearTimeout(s)}}),[a,e]),a}(i),d=function(e,t){var n=Object(r.useState)(Date.now()),a=Object(c.a)(n,2),i=a[0],s=a[1],o=Object(r.useRef)(),u=pt(Object(bt.a)(lt.a.mark((function n(){var c,r;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=o.current!==e,r=i,!c){n.next=13;break}if(!e){n.next=9;break}return n.next=6,Vt();case 6:n.t0=n.sent,n.next=10;break;case 9:n.t0=Date.now();case 10:r=n.t0,n.next=20;break;case 13:if(!e||t%5!==0){n.next=19;break}return n.next=16,Vt();case 16:r=n.sent,n.next=20;break;case 19:r+=1e3;case 20:return o.current=e,n.abrupt("return",r);case 22:case"end":return n.stop()}}),n)}))),[e,t]),j=u.data,l=u.loading;return Object(r.useEffect)((function(){j&&s(j)}),[j]),[i,s,l]}(e.remote,l),O=Object(c.a)(d,3),h=O[0],f=O[1],m=O[2],p=function(e){var t=new Date(e);return[t.getHours(),t.getMinutes(),t.getSeconds()]}(h),x=Object(c.a)(p,3),v=x[0],g=x[1],C=x[2],k=function(e,t,n){var c=n/60*360,r=t/60*360+c/60,a=e/12*360+r/12;return{second:{transform:"translate(-50%, 0) rotate(".concat(c,"deg)")},minute:{transform:"translate(-50%, 0) rotate(".concat(r,"deg)")},hour:{transform:"translate(-50%, 0) rotate(".concat(a,"deg)")}}}(v,g,C),y=Jt(v,g,C);return Object(r.useImperativeHandle)(t,(function(){return{toggle:function(){return s(!i),!i},setTime:function(e){var t=e.split(":"),n=Object(c.a)(t,3),r=n[0],a=n[1],i=n[2],s=new Date;s.setHours(r),s.setMinutes(a),s.setSeconds(i),f(s.getTime())}}}),[i]),Object(r.useEffect)((function(){u===y&&console.log(j),e.onChange&&e.onChange(y)}),[y]),Object(b.jsxs)(b.Fragment,{children:[m&&Object(b.jsx)("span",{children:"loading..."}),Object(b.jsxs)("div",{className:"clock",children:[Object(b.jsxs)("div",{className:"background",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsx)("div",{className:"point"}),Object(b.jsx)("div",{className:"hour",style:k.hour}),Object(b.jsx)("div",{className:"minute",style:k.minute}),Object(b.jsx)("div",{className:"second",style:k.second})]})]})},Zt=function(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],i=n[1],s=st(),o=Object(c.a)(s,3),u=o[0],j=o[1],l=o[2];return Object(r.useEffect)((function(){if(e.value&&!a){var t=e.value.split(":"),n=Object(c.a)(t,3),r=n[0],i=n[1],s=n[2];l({hour:r,minute:i,second:s})}}),[e.value]),Object(r.useEffect)((function(){if(a&&u.hour&&u.minute&&u.second){var t=Jt(u.hour,u.minute,u.second);e&&e.onChange(t)}}),[u]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",Object(ue.a)({maxLength:"2",onFocus:function(){return i(!0)},onBlur:function(){return i(!1)}},j("hour"))),":",Object(b.jsx)("input",Object(ue.a)({maxLength:"2",onFocus:function(){return i(!0)},onBlur:function(){return i(!1)}},j("minute"))),":",Object(b.jsx)("input",Object(ue.a)({maxLength:"2",onFocus:function(){return i(!0)},onBlur:function(){return i(!1)}},j("second")))]})},Wt=a.a.memo(Object(r.forwardRef)(Gt)),qt=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)(!1),o=Object(c.a)(s,2),u=o[0],j=o[1],l=Object(r.useState)(!1),d=Object(c.a)(l,2),O=d[0],h=d[1],f=Object(r.useRef)(),m=Object(r.useCallback)((function(e){i(e)}),[]),p=Object(r.useCallback)((function(e){f.current.setTime(e)}),[]),x=a.a.useMemo((function(){return{time:"19:09:16",message:"\u8d77\u5e8a\u4e86"}}),[]);return Object(b.jsxs)(Bt.Provider,{value:x,children:[Object(b.jsx)("button",{onClick:function(){var e=f.current.toggle();j(e)},children:u?"\u6062\u590d":"\u6682\u505c"}),Object(b.jsx)("button",{onClick:function(){return h(!O)},children:O?"\u670d\u52a1\u5668\u65f6\u95f4":"\u672c\u5730\u65f6\u95f4"}),Object(b.jsx)(Wt,{onChange:m,remote:O,ref:f}),Object(b.jsx)("div",{className:"parent-time",children:O?n:Object(b.jsx)(Zt,{onChange:p,value:n})})]})},Kt=n.p+"static/media/person.41f311b4.svg",Xt=n(13),Yt=n.n(Xt),_t=1,$t=2,Qt=3,en=4,tn=5,nn=6,cn=7,rn=Dt((function(e,t){switch(t.type){case _t:return Object(ue.a)(Object(ue.a)({},e),{},{showLogin:t.data});case $t:return t.data&&!/^[a-z0-9\-_]{4,20}$/.test(t.data)?Object(ue.a)(Object(ue.a)({},e),{},{loginError:"\u7528\u6237\u540d\u957f\u5ea6 4~20\uff0c\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001_\u3001-"}):Object(ue.a)(Object(ue.a)({},e),{},{loginError:"",showLogin:!1,user:t.data});case Qt:return Object(ue.a)(Object(ue.a)({},e),{},{categoryList:t.data.categoryList,foodList:t.data.foodList});case en:return Object(ue.a)(Object(ue.a)({},e),{},{orderMap:t.data});case tn:return Object(ue.a)(Object(ue.a)({},e),{},{showCartDetail:t.data});case nn:var n=e.orderMap,c=e.user,r=t.data,a=r.id,i=r.increment;if(!e.user)return Object(ue.a)(Object(ue.a)({},e),{},{showLogin:!0});var s=Object(ue.a)({},n);return function(e,t,n,c){var r=Object(ue.a)({},e[t]||{}),a=r[n]||0;(a+=c?1:-1)<=0?delete r[n]:r[n]=a,Yt.a.isEmpty(r)?delete e[t]:e[t]=r,Q.a.post("https://xiaozhu.run/api/order",{user:t,order:r})}(s,c,a,i),Object(ue.a)(Object(ue.a)({},e),{},{orderMap:s});case cn:return Object(ue.a)(Object(ue.a)({},e),{},{focusCategoryId:t.data});default:return e}}),{user:"",loginError:"",showLogin:!1,showCartDetail:!1,foodList:[],categoryList:[],orderMap:[],focusCategoryId:null}),an=Object(c.a)(rn,2),sn=an[0],on=an[1],un=(n(63),function(){var e=on(),t=e.data,n=e.dispatch,a=st(),i=Object(c.a)(a,3),s=i[0],o=i[1],u=(i[2],Object(r.useRef)());Object(r.useEffect)((function(){t.showLogin&&u.current&&u.current.focus()}),[t.showLogin]);var j=function(){n({type:$t,data:s.user})},l=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n({type:_t,data:e})};return Object(b.jsxs)("div",{className:"order-login",children:[Object(b.jsx)("div",{className:"order-login-user",children:t.user?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{src:Kt}),Object(b.jsx)("h2",{children:t.user}),Object(b.jsx)("a",{onClick:function(){n({type:$t,data:""})},children:"\u9000\u51fa"})]}):Object(b.jsx)("a",{onClick:function(){return l()},children:"\u767b\u5f55"})}),t.showLogin&&Object(b.jsx)("div",{className:"order-login-modal",tabIndex:"1",ref:u,onKeyDown:function(e){"Escape"===e.key&&l(!1)},children:Object(b.jsxs)("div",{className:"order-login-modal-content",children:[Object(b.jsx)("h3",{children:"\u767b\u5f55"}),Object(b.jsxs)("div",{className:"order-login-modal-content-form",children:[Object(b.jsx)("input",Object(ue.a)(Object(ue.a)({},o("user")),{},{onKeyPress:function(e){return"Enter"===e.key&&j()},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"})),t.loginError&&Object(b.jsx)("p",{children:t.loginError})]}),Object(b.jsxs)("div",{className:"order-login-modal-content-control",children:[Object(b.jsx)("button",{onClick:function(){return l(!1)},children:"\u53d6\u6d88"}),Object(b.jsx)("button",{onClick:j,children:"\u786e\u5b9a"})]})]})})]})}),jn=n.p+"static/media/order.ef866849.svg",ln=(n(64),function(){var e=on(),t=e.data,n=t.showCartDetail,c=t.orderMap,r=t.foodList,a=e.dispatch,i=Yt.a.reduce(r,(function(e,t){return e[t.id]=t,e}),{}),s=0,o=0,u=r.length?Object.keys(c).map((function(e){var t=c[e],n=0,r=Object.keys(t).map((function(e){var c=i[e],r=t[e];return n+=c.price*r,o+=r,s+=n,{food:c,count:r}}));return{money:n,user:e,orders:r}})):[];return Object(b.jsxs)("div",{className:"order-bottom-cart",children:[n&&Object(b.jsxs)("div",{className:"order-bottom-cart-detail",children:[u.map((function(e){return Object(b.jsxs)("div",{className:"order-bottom-cart-detail-item",children:[Object(b.jsx)("h4",{children:e.user}),Object(b.jsxs)("b",{children:["\xa5",e.money]}),Object(b.jsx)("ul",{children:e.orders.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:e.food.name}),Object(b.jsx)("i",{}),Object(b.jsx)("em",{children:e.count})]},e.food.id)}))})]},e.user)})),!u.length&&Object(b.jsx)("p",{children:"\u8fd8\u6ca1\u6709\u4eba\u70b9\u5355 :("})]}),Object(b.jsxs)("div",{className:"order-bottom-cart-control",children:[Object(b.jsxs)("i",{onClick:function(){return a({type:tn,data:!n})},children:[Object(b.jsx)("img",{src:jn}),Object(b.jsx)("em",{children:o})]}),Object(b.jsxs)("b",{children:["\xa5",s]}),Object(b.jsx)("button",{children:"\u53bb\u7ed3\u7b97"})]})]})}),bn=(n(65),function(){var e=on(),t=e.data,n=t.categoryList,c=t.focusCategoryId,r=e.dispatch;return Object(b.jsx)("div",{className:"order-category-list",children:Object(b.jsx)("ul",{children:n.map((function(e){return Object(b.jsx)("li",{className:c===e.id?"active":"",onClick:function(){return t=e.id,void r({type:cn,data:t});var t},children:e.name},e.id)}))})})}),dn=(n(66),function(){var e=on(),t=e.data,n=t.user,c=t.foodList,a=t.categoryList,i=t.orderMap,s=t.focusCategoryId,o=e.dispatch,u=Object(r.useRef)(),j=Object(r.useRef)(),l=Yt.a.groupBy(c,"categoryId"),d=function(e,t){o({type:nn,data:{id:e,increment:t}})},O=function(e){var t=u.current;if(t){var n=t.scrollTop,c=t.querySelectorAll(".order-food-list-group"),r=Object(w.a)(c).findIndex((function(e){return e.offsetTop-20>n}));r>0&&(r-=1),-1===r&&(r=c.length-1);var a=c[r],i=Number(a.dataset.categoryId);j.current=i,o({type:cn,data:i})}};return Object(r.useEffect)((function(){c.length&&O()}),[c]),Object(r.useEffect)((function(){var e=u.current,t=j.current;e&&s&&t!==s&&e.querySelector(".order-food-list-group[data-category-id='".concat(s,"']")).scrollIntoView()}),[s]),Object(b.jsx)("div",{className:"order-food-list",onScroll:O,ref:u,children:a.map((function(e){var t=e.id,c=(a.find((function(e){return e.id===t}))||{}).name;return Object(b.jsxs)("div",{className:"order-food-list-group","data-category-id":t,children:[Object(b.jsx)("h3",{children:c}),Object(b.jsx)("ul",{children:(l[t]||[]).map((function(e){var t=function(e,t){return Object.keys(e).reduce((function(n,c){return n+(e[c][t]||0)}),0)}(i,e.id),c=!!(i[n]||{})[e.id];return Object(b.jsxs)("li",{children:[Object(b.jsx)("div",{className:"order-food-list-image",children:Object(b.jsx)("img",{src:e.image})}),Object(b.jsxs)("div",{className:"order-food-list-meta",children:[Object(b.jsx)("h3",{children:e.name}),Object(b.jsxs)("em",{children:["\xa5",e.price]})]}),Object(b.jsxs)("div",{className:"order-food-list-control",children:[t>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("i",{onClick:function(){return d(e.id,!1)},children:"-"}),Object(b.jsx)("b",{className:c?"active":"",children:t})]}),Object(b.jsx)("i",{onClick:function(){return d(e.id,!0)},children:"+"})]})]},e.id)}))})]},t)}))})}),On=function(){var e,t=Object(r.useState)(5),n=Object(c.a)(t,2),a=n[0],i=n[1],s=ht("https://xiaozhu.run/api/foods",[]),o=s.data,u=s.loading,j=ht("https://xiaozhu.run/api/orders",[a]).data,l=on().dispatch;return Object(r.useEffect)((function(){o&&l({type:Qt,data:o})}),[o]),Object(r.useEffect)((function(){j&&l({type:en,data:j})}),[j]),Object(r.useEffect)((function(){return e=setTimeout((function(){i(a+1)}),5e3),function(){return clearTimeout(e)}}),[a]),u?Object(b.jsx)("div",{style:{textAlign:"center"},children:"Loading..."}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(bn,{}),Object(b.jsx)(dn,{})]})},hn=(n(67),function(){return Object(b.jsx)("div",{className:"order",children:Object(b.jsxs)(sn,{children:[Object(b.jsx)(un,{}),Object(b.jsx)(On,{}),Object(b.jsx)(ln,{})]})})}),fn=(n(68),[{lesson:"1. React \u521d\u63a2",title:"1.0-Component",Component:O},{title:"1.1-Jsx",Component:f},{title:"1.2-Express",Component:p},{title:"1.3-Practice",Component:v},{lesson:"2. React \u57fa\u7840\u7cbe\u8bb2",title:"2.0-Props",Component:C},{title:"2.1-DefaultProps",Component:y},{title:"2.2-State",Component:N},{title:"2.3-FibonacciPractice",Component:L},{title:"2.4-SetState",Component:R},{title:"2.5-StatePractice",Component:A},{title:"2.6-Context",Component:V},{title:"2.7-Ref",Component:G},{title:"2.8-Event",Component:Z},{title:"2.9-Practice",Component:W},{lesson:"3. React \u8fdb\u9636",title:"3.0-Constructor",Component:q},{title:"3.1-BindEvent",Component:X},{title:"3.2-GetDerivedStateFromProps",Component:_},{title:"3.3-ComponentDidMount",Component:ee},{title:"3.4-ShouldComponentUpdate",Component:ce},{title:"3.5-ComponentDidUpdate",Component:ie},{title:"3.6-Form",Component:se},{title:"3.7-FormRef",Component:oe},{title:"3.8-Hoc",Component:be},{title:"3.9-HocPractice",Component:Oe},{lesson:"4. React \u5b9e\u6218",title:"4.0-\u8ba1\u7b97\u5668",Component:pe},{lesson:"5. React Hook \u57fa\u7840",title:"5.0-Function",Component:ve},{title:"5.1-UseStateBasic",Component:ge},{title:"5.2-UseEffectBasic",Component:ke},{title:"5.3-UseEffectTimer",Component:Se},{title:"5.4-UseLayoutEffect",Component:Fe},{title:"5.5-UseContextBasic",Component:De},{title:"5.6-HookRule",Component:Ue},{title:"5.7-Practice",Component:He},{lesson:"6. React Hook \u8fdb\u9636",title:"6.0-CustomHook",Component:Te},{title:"6.1-UseReducerBasic",Component:Ve},{title:"6.2-UseCallback",Component:Ge},{title:"6.3-UseMemo",Component:We},{title:"6.4-UseImperativeHandle",Component:Xe},{title:"6.5-UseEffectAsync",Component:Ye},{title:"6.6-Practice",Component:tt},{lesson:"7. React Hook \u5e94\u7528\u573a\u666f",title:"7.0-UseForm",Component:ut},{title:"7.1-UseEffect",Component:Ot},{title:"7.2-UseFetch",Component:mt},{title:"7.3-UseAsync",Component:Ct},{title:"7.4-UseReducer",Component:wt},{title:"7.5-UseReducerAndContext",Component:function(){var e=Object(r.useReducer)(Et,Ft),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)(Lt.Provider,{value:{store:n,dispatch:a},children:[Object(b.jsx)(Rt,{}),Object(b.jsx)(Mt,{})]}),Object(b.jsxs)("p",{children:["Store: ",JSON.stringify(n)]})]})}},{title:"7.6-UseShareState",Component:zt},{title:"7.7-Practice",Component:qt},{lesson:"8. React Hook \u5b9e\u6218",title:"8.0-\u591a\u4eba\u70b9\u9910",Component:hn}]),mn=function(){var e=Object(r.useState)(0),t=Object(c.a)(e,2),n=t[0],a=t[1],i=fn[n].Component,s=function(e){a(e),window.location.hash=e};return Object(r.useEffect)((function(){var e=Number(window.location.hash.replace("#",""))||0;s(e)}),[]),Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("ul",{className:"menu",children:fn.map((function(e,t){return Object(b.jsxs)("li",{className:t===n?"current":"",children:[e.lesson&&Object(b.jsx)("h3",{children:e.lesson}),Object(b.jsx)("a",{onClick:function(){return s(t)},children:e.title})]},t)}))}),Object(b.jsx)("div",{className:"content",children:Object(b.jsx)(i,{})})]})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(mn,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.be69b73d.chunk.js.map